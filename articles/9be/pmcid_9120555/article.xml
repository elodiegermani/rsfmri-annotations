<?xml version='1.0' encoding='UTF-8'?>
<article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="1.3" id="hbm25829" xml:lang="en" article-type="other">
  <?properties open_access?>
  <processing-meta base-tagset="archiving" mathml-version="3.0" table-model="xhtml" tagset-family="jats">
    <restricted-by>pmc</restricted-by>
  </processing-meta>
  <front>
    <journal-meta>
      <journal-id journal-id-type="nlm-ta">Hum Brain Mapp</journal-id>
      <journal-id journal-id-type="iso-abbrev">Hum Brain Mapp</journal-id>
      <journal-id journal-id-type="doi">10.1002/(ISSN)1097-0193</journal-id>
      <journal-id journal-id-type="publisher-id">HBM</journal-id>
      <journal-title-group>
        <journal-title>Human Brain Mapping</journal-title>
      </journal-title-group>
      <issn pub-type="ppub">1065-9471</issn>
      <issn pub-type="epub">1097-0193</issn>
      <publisher>
        <publisher-name>John Wiley &amp; Sons, Inc.</publisher-name>
        <publisher-loc>Hoboken, USA</publisher-loc>
      </publisher>
    </journal-meta>
    <article-meta>
      <article-id pub-id-type="pmid">35305030</article-id>
      <article-id pub-id-type="pmc">9120555</article-id>
      <article-id pub-id-type="doi">10.1002/hbm.25829</article-id>
      <article-id pub-id-type="publisher-id">HBM25829</article-id>
      <article-categories>
        <subj-group subj-group-type="overline">
          <subject>Technical Report</subject>
        </subj-group>
        <subj-group subj-group-type="heading">
          <subject>Technical Report</subject>
        </subj-group>
      </article-categories>
      <title-group>
        <article-title>
<styled-content style="fixed-case" toggle="no">ENIGMA HALFpipe</styled-content>: Interactive, reproducible, and efficient analysis for resting‐state and task‐based <styled-content style="fixed-case" toggle="no">fMRI</styled-content> data</article-title>
        <alt-title alt-title-type="left-running-head">Waller et al.</alt-title>
      </title-group>
      <contrib-group>
        <contrib id="hbm25829-cr-0001" contrib-type="author" corresp="yes">
          <name>
            <surname>Waller</surname>
            <given-names>Lea</given-names>
          </name>
          <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0002-3239-6957</contrib-id>
          <xref rid="hbm25829-aff-0001" ref-type="aff">
<sup>1</sup>
</xref>
          <address>
            <email>lea@fmri.science</email>
          </address>
        </contrib>
        <contrib id="hbm25829-cr-0002" contrib-type="author">
          <name>
            <surname>Erk</surname>
            <given-names>Susanne</given-names>
          </name>
          <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0003-0961-3543</contrib-id>
          <xref rid="hbm25829-aff-0001" ref-type="aff">
<sup>1</sup>
</xref>
        </contrib>
        <contrib id="hbm25829-cr-0003" contrib-type="author">
          <name>
            <surname>Pozzi</surname>
            <given-names>Elena</given-names>
          </name>
          <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0001-8360-5571</contrib-id>
          <xref rid="hbm25829-aff-0002" ref-type="aff">
<sup>2</sup>
</xref>
          <xref rid="hbm25829-aff-0003" ref-type="aff">
<sup>3</sup>
</xref>
        </contrib>
        <contrib id="hbm25829-cr-0004" contrib-type="author">
          <name>
            <surname>Toenders</surname>
            <given-names>Yara J.</given-names>
          </name>
          <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0002-4117-1143</contrib-id>
          <xref rid="hbm25829-aff-0002" ref-type="aff">
<sup>2</sup>
</xref>
          <xref rid="hbm25829-aff-0003" ref-type="aff">
<sup>3</sup>
</xref>
        </contrib>
        <contrib id="hbm25829-cr-0005" contrib-type="author">
          <name>
            <surname>Haswell</surname>
            <given-names>Courtney C.</given-names>
          </name>
          <xref rid="hbm25829-aff-0004" ref-type="aff">
<sup>4</sup>
</xref>
        </contrib>
        <contrib id="hbm25829-cr-0006" contrib-type="author">
          <name>
            <surname>Büttner</surname>
            <given-names>Marc</given-names>
          </name>
          <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0001-6940-6656</contrib-id>
          <xref rid="hbm25829-aff-0001" ref-type="aff">
<sup>1</sup>
</xref>
        </contrib>
        <contrib id="hbm25829-cr-0007" contrib-type="author">
          <name>
            <surname>Thompson</surname>
            <given-names>Paul M.</given-names>
          </name>
          <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0002-4720-8867</contrib-id>
          <xref rid="hbm25829-aff-0005" ref-type="aff">
<sup>5</sup>
</xref>
        </contrib>
        <contrib id="hbm25829-cr-0008" contrib-type="author">
          <name>
            <surname>Schmaal</surname>
            <given-names>Lianne</given-names>
          </name>
          <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0001-9822-048X</contrib-id>
          <xref rid="hbm25829-aff-0002" ref-type="aff">
<sup>2</sup>
</xref>
          <xref rid="hbm25829-aff-0003" ref-type="aff">
<sup>3</sup>
</xref>
        </contrib>
        <contrib id="hbm25829-cr-0009" contrib-type="author">
          <name>
            <surname>Morey</surname>
            <given-names>Rajendra A.</given-names>
          </name>
          <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0002-6517-6969</contrib-id>
          <xref rid="hbm25829-aff-0004" ref-type="aff">
<sup>4</sup>
</xref>
          <xref rid="hbm25829-aff-0006" ref-type="aff">
<sup>6</sup>
</xref>
        </contrib>
        <contrib id="hbm25829-cr-0010" contrib-type="author">
          <name>
            <surname>Walter</surname>
            <given-names>Henrik</given-names>
          </name>
          <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0002-9403-6121</contrib-id>
          <xref rid="hbm25829-aff-0001" ref-type="aff">
<sup>1</sup>
</xref>
        </contrib>
        <contrib id="hbm25829-cr-0011" contrib-type="author">
          <name>
            <surname>Veer</surname>
            <given-names>Ilya M.</given-names>
          </name>
          <contrib-id contrib-id-type="orcid" authenticated="false">https://orcid.org/0000-0002-6733-3593</contrib-id>
          <xref rid="hbm25829-aff-0001" ref-type="aff">
<sup>1</sup>
</xref>
          <xref rid="hbm25829-aff-0007" ref-type="aff">
<sup>7</sup>
</xref>
        </contrib>
      </contrib-group>
      <aff id="hbm25829-aff-0001">
<label>
<sup>1</sup>
</label>
<named-content content-type="organisation-division">Charité Universitätsmedizin Berlin, Corporate Member of Freie Universität Berlin and Humboldt‐Universität zu Berlin</named-content>
<institution>Department of Psychiatry and Neurosciences CCM</institution>
<city>Berlin</city>
<country country="DE">Germany</country>
</aff>
      <aff id="hbm25829-aff-0002">
<label>
<sup>2</sup>
</label>
<named-content content-type="organisation-division">Centre for Youth Mental Health</named-content>
<institution>University of Melbourne</institution>
<city>Melbourne</city>
<country country="AU">Australia</country>
</aff>
      <aff id="hbm25829-aff-0003">
<label>
<sup>3</sup>
</label>
<institution>Orygen</institution>
<city>Parkville</city>
<country country="AU">Australia</country>
</aff>
      <aff id="hbm25829-aff-0004">
<label>
<sup>4</sup>
</label>
<institution>Duke University School of Medicine</institution>
<city>Durham</city>
<named-content content-type="country-part">North Carolina</named-content>
<country country="US">USA</country>
</aff>
      <aff id="hbm25829-aff-0005">
<label>
<sup>5</sup>
</label>
<named-content content-type="organisation-division">Imaging Genetics Center, Mark and Mary Stevens Institute for Neuroimaging and Informatics, Keck School of Medicine</named-content>
<institution>University of Southern California</institution>
<city>Los Angeles</city>
<named-content content-type="country-part">California</named-content>
<country country="US">USA</country>
</aff>
      <aff id="hbm25829-aff-0006">
<label>
<sup>6</sup>
</label>
<named-content content-type="organisation-division">Mid‐Atlantic Mental Illness Research Education and Clinical Center</named-content>
<institution>US Department of Veterans Affairs</institution>
<city>Durham</city>
<named-content content-type="country-part">North Carolina</named-content>
<country country="US">USA</country>
</aff>
      <aff id="hbm25829-aff-0007">
<label>
<sup>7</sup>
</label>
<named-content content-type="organisation-division">Department of Developmental Psychology</named-content>
<institution>University of Amsterdam</institution>
<city>Amsterdam</city>
<country country="NL">The Netherlands</country>
</aff>
      <author-notes>
        <corresp id="correspondenceTo">
<label>*</label>
<bold>Correspondence</bold>
<break/>
Lea Waller, Charité Universitätsmedizin Berlin, corporate member of Freie Universität Berlin and Humboldt‐Universität zu Berlin, Department of Psychiatry and Neurosciences CCM, Berlin, Germany.<break/>
Email: <email>lea@fmri.science</email>
<break/>
</corresp>
      </author-notes>
      <pub-date pub-type="epub">
        <day>19</day>
        <month>3</month>
        <year>2022</year>
      </pub-date>
      <pub-date pub-type="collection">
        <day>15</day>
        <month>6</month>
        <year>2022</year>
      </pub-date>
      <volume>43</volume>
      <issue seq="30">9</issue>
      <issue-id pub-id-type="doi">10.1002/hbm.v43.9</issue-id>
      <fpage>2727</fpage>
      <lpage>2742</lpage>
      <history>
<date date-type="rev-recd"><day>26</day><month>1</month><year>2022</year></date>
<date date-type="received"><day>31</day><month>8</month><year>2021</year></date>
<date date-type="accepted"><day>12</day><month>2</month><year>2022</year></date>
</history>
      <permissions>
        <!--&#x000a9; 2022 Wiley Periodicals LLC.-->
        <copyright-statement content-type="article-copyright">© 2022 The Authors. <italic toggle="yes">Human Brain Mapping</italic> published by Wiley Periodicals LLC.</copyright-statement>
        <license>
          <ali:license_ref xmlns:ali="http://www.niso.org/schemas/ali/1.0/" specific-use="textmining" content-type="ccbylicense">https://creativecommons.org/licenses/by/4.0/</ali:license_ref>
          <license-p>This is an open access article under the terms of the <ext-link ext-link-type="uri" xlink:href="https://creativecommons.org/licenses/by/4.0/">http://creativecommons.org/licenses/by/4.0/</ext-link> License, which permits use, distribution and reproduction in any medium, provided the original work is properly cited.</license-p>
        </license>
      </permissions>
      <self-uri content-type="pdf" xlink:href="file:HBM-43-2727.pdf"/>
      <abstract>
        <title>Abstract</title>
        <p>The reproducibility crisis in neuroimaging has led to an increased demand for standardized data processing workflows. Within the ENIGMA consortium, we developed <italic toggle="no">HALFpipe</italic> (<italic toggle="no">H</italic>armonized <italic toggle="no">A</italic>na<italic toggle="no">l</italic>ysis of <italic toggle="no">F</italic>unctional MRI <italic toggle="no">pipe</italic>line), an open‐source, containerized, user‐friendly tool that facilitates reproducible analysis of task‐based and resting‐state fMRI data through uniform application of preprocessing, quality assessment, single‐subject feature extraction, and group‐level statistics. It provides state‐of‐the‐art preprocessing using <italic toggle="no">fMRIPrep</italic> without the requirement for input data in Brain Imaging Data Structure (BIDS) format. <italic toggle="no">HALFpipe</italic> extends the functionality of <italic toggle="no">fMRIPrep</italic> with additional preprocessing steps, which include spatial smoothing, grand mean scaling, temporal filtering, and confound regression. <italic toggle="no">HALFpipe</italic> generates an interactive quality assessment (QA) webpage to rate the quality of key preprocessing outputs and raw data in general. <italic toggle="no">HALFpipe</italic> features myriad post‐processing functions at the individual subject level, including calculation of task‐based activation, seed‐based connectivity, network‐template (or dual) regression, atlas‐based functional connectivity matrices, regional homogeneity (ReHo), and fractional amplitude of low‐frequency fluctuations (fALFF), offering support to evaluate a combinatorial number of features or preprocessing settings in one run. Finally, flexible factorial models can be defined for mixed‐effects regression analysis at the group level, including multiple comparison correction. Here, we introduce the theoretical framework in which <italic toggle="no">HALFpipe</italic> was developed, and present an overview of the main functions of the pipeline. <italic toggle="no">HALFpipe</italic> offers the scientific community a major advance toward addressing the reproducibility crisis in neuroimaging, providing a workflow that encompasses preprocessing, post‐processing, and QA of fMRI data, while broadening core principles of data analysis for producing reproducible results. Instructions and code can be found at <ext-link xlink:href="https://github.com/HALFpipe/HALFpipe" ext-link-type="uri">https://github.com/HALFpipe/HALFpipe</ext-link>.</p>
      </abstract>
      <abstract abstract-type="graphical">
        <p>HALFpipe is a user‐friendly software that facilitates reproducible analysis of fMRI data, including preprocessing, single‐subject, and group analysis. It provides state‐of‐the‐art preprocessing using fMRIPrep, but removes the necessity to convert data to the BIDS format. Common resting‐state and task‐based fMRI features can then be calculated on the fly using FSL and Nipype for statistics.<boxed-text position="anchor" content-type="graphic" id="hbm25829-blkfxd-0001"><graphic xlink:href="HBM-43-2727-g002.jpg" position="anchor" id="jats-graphic-1"/></boxed-text>
</p>
      </abstract>
      <kwd-group kwd-group-type="author-generated">
        <kwd id="hbm25829-kwd-0001">fMRI</kwd>
        <kwd id="hbm25829-kwd-0002">harmonization</kwd>
        <kwd id="hbm25829-kwd-0003">image analysis</kwd>
        <kwd id="hbm25829-kwd-0004">reproducibility</kwd>
        <kwd id="hbm25829-kwd-0005">meta‐analysis pipeline</kwd>
        <kwd id="hbm25829-kwd-0006">open source</kwd>
      </kwd-group>
      <funding-group>
        <award-group id="funding-0001">
          <funding-source>
            <institution-wrap>
              <institution>German Research Foundation
</institution>
              <institution-id institution-id-type="doi">10.13039/501100001659</institution-id>
            </institution-wrap>
          </funding-source>
          <award-id>DFG ER 724/4‐1</award-id>
          <award-id>WA 1539/11‐1</award-id>
        </award-group>
        <award-group id="funding-0002">
          <funding-source>Biogen, Inc.</funding-source>
        </award-group>
        <award-group id="funding-0003">
          <funding-source>National Institutes of Health</funding-source>
          <award-id>NIH R01</award-id>
          <award-id>MH117601</award-id>
        </award-group>
        <award-group id="funding-0004">
          <funding-source>NHMRC Career Development Fellowship</funding-source>
          <award-id>1140764</award-id>
        </award-group>
        <award-group id="funding-0005">
          <funding-source>
            <institution-wrap>
              <institution>National Institutes of Health
</institution>
              <institution-id institution-id-type="doi">10.13039/100000002</institution-id>
            </institution-wrap>
          </funding-source>
          <award-id>NIH R01</award-id>
          <award-id>MH111671</award-id>
        </award-group>
        <award-group id="funding-0006">
          <funding-source>European Union's Horizon 2020 research andinnovation programme</funding-source>
          <award-id>777084</award-id>
        </award-group>
      </funding-group>
      <counts>
        <fig-count count="3"/>
        <table-count count="4"/>
        <page-count count="16"/>
        <word-count count="13934"/>
      </counts>
      <custom-meta-group>
        <custom-meta>
          <meta-name>source-schema-version-number</meta-name>
          <meta-value>2.0</meta-value>
        </custom-meta>
        <custom-meta>
          <meta-name>cover-date</meta-name>
          <meta-value>June 15, 2022</meta-value>
        </custom-meta>
        <custom-meta>
          <meta-name>details-of-publishers-convertor</meta-name>
          <meta-value>Converter:WILEY_ML3GV2_TO_JATSPMC version:6.1.6 mode:remove_FC converted:20.05.2022</meta-value>
        </custom-meta>
      </custom-meta-group>
    </article-meta>
    <notes>
      <p content-type="self-citation">
<mixed-citation publication-type="journal" id="hbm25829-cit-9001">
<string-name>
<surname>Waller</surname>, <given-names>L.</given-names>
</string-name>, <string-name>
<surname>Erk</surname>, <given-names>S.</given-names>
</string-name>, <string-name>
<surname>Pozzi</surname>, <given-names>E.</given-names>
</string-name>, <string-name>
<surname>Toenders</surname>, <given-names>Y. J.</given-names>
</string-name>, <string-name>
<surname>Haswell</surname>, <given-names>C. C.</given-names>
</string-name>, <string-name>
<surname>Büttner</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>Thompson</surname>, <given-names>P. M.</given-names>
</string-name>, <string-name>
<surname>Schmaal</surname>, <given-names>L.</given-names>
</string-name>, <string-name>
<surname>Morey</surname>, <given-names>R. A.</given-names>
</string-name>, <string-name>
<surname>Walter</surname>, <given-names>H.</given-names>
</string-name>, &amp; <string-name>
<surname>Veer</surname>, <given-names>I. M.</given-names>
</string-name> (<year>2022</year>). <article-title>
<styled-content style="fixed-case" toggle="no">ENIGMA HALFpipe</styled-content>: Interactive, reproducible, and efficient analysis for resting‐state and task‐based <styled-content style="fixed-case" toggle="no">fMRI</styled-content> data</article-title>. <source>Human Brain Mapping</source>, <volume>43</volume>(<issue>9</issue>), <fpage>2727</fpage>–<lpage>2742</lpage>. <pub-id pub-id-type="doi">10.1002/hbm.25829</pub-id>
</mixed-citation>
</p>
      <fn-group id="hbm25829-ntgp-0001">
        <fn id="hbm25829-note-0001" fn-type="equal">
          <p>Rajendra A. Morey, Henrik Walter, and Ilya M. Veer contributed equally to this work.</p>
        </fn>
        <fn id="hbm25829-note-1002">
          <p>
<bold>Funding information</bold> German Research Foundation, Grant/Award Numbers: DFG ER 724/4‐1, WA 1539/11‐1; Biogen, Inc.; National Institutes of Health, Grant/Award Numbers: NIH R01, MH117601; NHMRC Career Development Fellowship, Grant/Award Number: 1140764; National Institutes of Health, Grant/Award Numbers: NIH R01, MH111671; European Union's Horizon 2020 research andinnovation programme, Grant/Award Number: 777084</p>
        </fn>
      </fn-group>
    </notes>
  </front>
  <body id="hbm25829-body-0001">
    <sec id="hbm25829-sec-0001">
      <label>1</label>
      <title>INTRODUCTION</title>
      <p>The application of neuroimaging, in particular functional MRI (fMRI), has led to an explosion in knowledge about brain functions implicated in a range of human behaviors, cognitive processes, and emotions. Such research has been spurred by rapid advances in computationally intensive software required to perform complex algorithmic processing and statistical modeling of fMRI data. The resulting proliferation of software tools designed to fulfill various analytic functions has produced a large array of options for carrying out any given type of processing. Since the fMRI signal indirectly captures the neural processes of interest, a series of computational operations on fMRI data, referred to as the <italic toggle="yes">analysis pipeline</italic>, are necessary to arrive at interpretable results. In practice, each step is flexible and subject to a number of choices by the researcher, termed <italic toggle="yes">analytic flexibility</italic> (Poldrack et al., <xref rid="hbm25829-bib-0057" ref-type="bibr">2017</xref>). The steps in the analysis pipeline may be reordered, run with different parameters, or may be completely omitted in some cases. Understandably, users expect different tools performing the same function to generate (near) identical results when supplied with given input data. However, the multiplicity of tools has had the unintended consequence of generating inconsistent results from studies designed to answer the same research question, sometimes even when the same data is used as the starting point (Botvinik‐Nezer et al., <xref rid="hbm25829-bib-0012" ref-type="bibr">2020</xref>). Thus, <italic toggle="yes">analytic flexibility</italic> combined with the number of analysis steps, as well as the possible parameters for running each analysis step, has led to a vast multiplicity of methodologic variants and an equal number of possible results. This situation has contributed in part to what is widely hailed as a <italic toggle="yes">crisis of reproducibility</italic>, which now plagues the neuroimaging field (Gorgolewski et al., <xref rid="hbm25829-bib-0034" ref-type="bibr">2016</xref>; Poldrack et al., <xref rid="hbm25829-bib-0057" ref-type="bibr">2017</xref>).</p>
      <p>One solution to improving reproducibility is to constrain the parameter space by limiting choices to default parameters established from empirically‐derived best practices (Grüning et al., <xref rid="hbm25829-bib-0037" ref-type="bibr">2018</xref>). For instance, established pipelines such as <italic toggle="yes">fMRIPrep</italic> (Esteban et al., <xref rid="hbm25829-bib-0024" ref-type="bibr">2019</xref>) and <italic toggle="yes">C‐PAC</italic> (Craddock et al., <xref rid="hbm25829-bib-0017" ref-type="bibr">2013</xref>) have automated many of these choices. An alternate approach is to run multiple analyses separately on the same input data with the same or different pipelines, but with different parameter selections for each analysis, and then compare the results. This second approach, termed <italic toggle="yes">multiverse analysis</italic> (Steegen, Tuerlinckx, Gelman, &amp; Vanpaemel, <xref rid="hbm25829-bib-0067" ref-type="bibr">2016</xref>), has the advantage that results from multiple analyses may be compared and alternate solutions may be presented in published reports to promote increased transparency. However, <italic toggle="yes">multiverse analysis</italic> has the disadvantage that it may ultimately not be possible to determine the optimal or even the correct solution, as true effects in nonsimulated fMRI data are often unknown.</p>
      <p>The reproducibility crisis has led to an increased demand for standardized workflows to conduct both the preprocessing and postprocessing stages of fMRI analysis. The recent introduction and widespread adoption of standardized pipelines for fMRI data preprocessing have provided the research community with much‐needed high‐quality tools that have improved reproducibility (Thompson et al., <xref rid="hbm25829-bib-0069" ref-type="bibr">2020</xref>). The four ingredients that are essential to data analysis and reproducible results are: (a) data and metadata availability, (b) code usage and transparency, (c) software installability, and (d) re‐creation of the runtime environment. Relative to other processing pipelines, <italic toggle="yes">fMRIPrep</italic> (Esteban et al., <xref rid="hbm25829-bib-0022" ref-type="bibr">2019</xref>) has grown in popularity due to its adoption of best practices, open‐source availability, favorable user experience, and <italic toggle="yes">glass‐box</italic> principles of transparency (Poldrack, Gorgolewski, &amp; Varoquaux, <xref rid="hbm25829-bib-0058" ref-type="bibr">2019</xref>). However, <italic toggle="yes">fMRIPrep</italic> is limited to the minimal preprocessing steps of fMRI data analysis, while variability in parameter selection for further preprocessing (e.g., data cleaning) and subsequent postprocessing analysis steps (e.g., feature extraction, model specification) may compromise reproducibility.</p>
      <p>The Enhancing neuro imaging genetics through meta analysis (ENIGMA) consortium has addressed the reproducibility crisis by pooling observational study data from structural and diffusion imaging (and more recently EEG and MEG), and by developing standardized pipelines, data harmonization methodology, and quality control protocols (Thompson et al., <xref rid="hbm25829-bib-0070" ref-type="bibr">2020</xref>). These workflows have successfully analyzed structural and diffusion MRI data aggregated from large numbers of small‐ and medium‐sized cohorts to accrue sufficient power to yield robust results on a wide range of neuropsychiatric conditions (e.g., Hoogman et al., <xref rid="hbm25829-bib-0042" ref-type="bibr">2020</xref>; Schmaal et al., <xref rid="hbm25829-bib-0065" ref-type="bibr">2020</xref>; van den Heuvel et al., <xref rid="hbm25829-bib-0071" ref-type="bibr">2020</xref>), However, until now the ENIGMA consortium has lacked the ability to reliably conduct consortium‐wide analyses on fMRI data. More recently, however, the ENIGMA task‐based (Veer, Waller, Lett, Erk, &amp; Walter, <xref rid="hbm25829-bib-0072" ref-type="bibr">2019</xref>) and resting‐state fMRI (Adhikari et al., <xref rid="hbm25829-bib-0002" ref-type="bibr">2019</xref>) working groups have spurred initiatives to bring the ENIGMA framework to the functional domain.</p>
      <p>To support these initiatives within ENIGMA, we developed a standardized workflow that encompasses the essential elements of task‐based and resting‐state fMRI analyses from raw data to group‐level statistics, builds on the progress and contributions of <italic toggle="yes">fMRIPrep</italic> developers, and extends its functionality beyond preprocessing steps to include additional preprocessing, post‐processing, and interactive tools for quality assessment. These extended features include: automatic and reliable conversion of fMRI data to BIDS format, spatial smoothing, temporal filtering, extended confounds regression, calculation of task‐based activations, and resting‐state feature extraction, including seed‐based functional connectivity, network‐template (dual) regression, atlas‐based functional connectivity matrices, regional homogeneity (ReHo) analysis, and fractional amplitude of low‐frequency fluctuations (fALFF). Although each of these post‐processing functions is available in other software packages and a few pipelines have incorporated a subset of these features, <italic toggle="yes">HALFpipe</italic> combines all these post‐processing tools from open‐source neuroimaging packages with the preprocessing steps performed by <italic toggle="yes">fMRIPrep</italic> (see Table <xref rid="hbm25829-tbl-0001" ref-type="table">1</xref>). Furthermore, although <italic toggle="yes">HALFpipe</italic> provides recommended settings for each of the processing steps (see Table <xref rid="hbm25829-tbl-0003" ref-type="table">3</xref>), it allows users to run any combinatorial number of these processing settings, thereby offering a streamlined infrastructure for pursuing multiverse analyses. Similar to other processing pipelines, <italic toggle="yes">HALFpipe</italic> is available as a containerized image, thereby offering full control over the computational environment. In this article, we provide a detailed description of <italic toggle="yes">HALFpipe</italic>. First, we explain the software architecture and implementation, followed by a walkthrough of the procedure for running the software, and finally a discussion of the potential applications of the pipeline.</p>
      <table-wrap position="float" id="hbm25829-tbl-0001" content-type="TABLE">
        <label>TABLE 1</label>
        <caption>
          <p>Comparison to other neuroimaging pipelines</p>
        </caption>
        <table frame="hsides" rules="groups">
          <col align="left" span="1"/>
          <col align="left" span="1"/>
          <col align="left" span="1"/>
          <col align="left" span="1"/>
          <col align="left" span="1"/>
          <col align="left" span="1"/>
          <col align="left" span="1"/>
          <col align="left" span="1"/>
          <thead valign="bottom">
            <tr style="border-bottom:solid 1px #000000">
              <th align="left" valign="bottom" rowspan="1" colspan="1"/>
              <th align="left" valign="bottom" rowspan="1" colspan="1"/>
              <th align="left" valign="bottom" rowspan="1" colspan="1">HALFpipe</th>
              <th align="left" valign="bottom" rowspan="1" colspan="1">C‐PAC</th>
              <th align="left" valign="bottom" rowspan="1" colspan="1">fMRIPrep MRIQC FitLins</th>
              <th align="left" valign="bottom" rowspan="1" colspan="1">Conn toolbox</th>
              <th align="left" valign="bottom" rowspan="1" colspan="1">XCP toolbox</th>
              <th align="left" valign="bottom" rowspan="1" colspan="1">DPARSF DPABI</th>
            </tr>
          </thead>
          <tbody valign="top">
            <tr>
              <td rowspan="2" align="left" valign="top" colspan="1">Quality assessment</td>
              <td align="left" valign="top" rowspan="1" colspan="1">Quality metrics</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
            </tr>
            <tr>
              <td align="left" valign="top" rowspan="1" colspan="1">Visual quality assessment</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
            </tr>
            <tr>
              <td rowspan="7" align="left" valign="top" colspan="1">Features</td>
              <td align="left" valign="top" rowspan="1" colspan="1">Task‐based activation</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#FFF2CC" align="left" valign="top" rowspan="1" colspan="1">No</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#FFF2CC" align="left" valign="top" rowspan="1" colspan="1">No<xref rid="hbm25829-note-0003" ref-type="table-fn">
<sup>a</sup>
</xref>
</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#FFF2CC" align="left" valign="top" rowspan="1" colspan="1">No</td>
            </tr>
            <tr>
              <td align="left" valign="top" rowspan="1" colspan="1">Seed‐based connectivity</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#FFF2CC" align="left" valign="top" rowspan="1" colspan="1">No</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
            </tr>
            <tr>
              <td align="left" valign="top" rowspan="1" colspan="1">Dual regression</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#FFF2CC" align="left" valign="top" rowspan="1" colspan="1">No</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#FFF2CC" align="left" valign="top" rowspan="1" colspan="1">No</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
            </tr>
            <tr>
              <td align="left" valign="top" rowspan="1" colspan="1">Atlas‐based connectivity matrix</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#FFF2CC" align="left" valign="top" rowspan="1" colspan="1">No</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
            </tr>
            <tr>
              <td align="left" valign="top" rowspan="1" colspan="1">ReHo</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#FFF2CC" align="left" valign="top" rowspan="1" colspan="1">No</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes<xref rid="hbm25829-note-0004" ref-type="table-fn">
<sup>b</sup>
</xref>
</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
            </tr>
            <tr>
              <td align="left" valign="top" rowspan="1" colspan="1">fALFF</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#FFF2CC" align="left" valign="top" rowspan="1" colspan="1">No</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
            </tr>
            <tr>
              <td align="left" valign="top" rowspan="1" colspan="1">Group statistics</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
              <td style="background-color:#FFF2CC" align="left" valign="top" rowspan="1" colspan="1">No</td>
              <td style="background-color:#D8EBCD" align="left" valign="top" rowspan="1" colspan="1">Yes</td>
            </tr>
          </tbody>
        </table>
        <table-wrap-foot id="hbm25829-ntgp-0002">
          <fn id="hbm25829-note-0002">
            <p>
<italic toggle="yes">Note</italic>: HALFpipe supports a number of different features that are also available in other pipelines such as the configurable pipeline for the analysis of connectome C‐PAC (Craddock et al., <xref rid="hbm25829-bib-0017" ref-type="bibr">2013</xref>), the Conn toolbox (Whitfield‐Gabrieli and Nieto‐Castanon <xref rid="hbm25829-bib-0084" ref-type="bibr">2012</xref>), the eXtensible Connectivity Pipeline XCP (Ciric et al. <xref rid="hbm25829-bib-0082" ref-type="bibr">2018</xref>) and the data processing and analysis of brain images toolbox DPABI (Yan et al. <xref rid="hbm25829-bib-0083" ref-type="bibr">2016</xref>). fMRIPrep (Esteban, Markiewicz, et al. <xref rid="hbm25829-bib-0024" ref-type="bibr">2019</xref>) in combination with Magnetic Resonance Imaging Quality Control tool (MRIQC) (Esteban et al., <xref rid="hbm25829-bib-0021" ref-type="bibr">2017</xref>) and FitLins (Markiewicz et al. <xref rid="hbm25829-bib-0081" ref-type="bibr">2016</xref>) allows users to construct an analysis pipeline fully within the Nipype ecosystem (Esteban, Ciric, et al. <xref rid="hbm25829-bib-0085" ref-type="bibr">2020</xref>).</p>
          </fn>
          <fn id="hbm25829-note-0003">
            <label>
<sup>a</sup>
</label>
            <p>Task‐based connectivity is supported.</p>
          </fn>
          <fn id="hbm25829-note-0004">
            <label>
<sup>b</sup>
</label>
            <p>As implemented with LCOR (local correlation).</p>
          </fn>
        </table-wrap-foot>
      </table-wrap>
    </sec>
    <sec sec-type="methods" id="hbm25829-sec-0002">
      <label>2</label>
      <title>METHODS</title>
      <p>The <italic toggle="yes">HALFpipe</italic> software is containerized, similar to <italic toggle="yes">fMRIPrep</italic> or <italic toggle="yes">C‐PAC</italic>. This means that it comes bundled with all other software that is needed for it to run, such as <italic toggle="yes">fMRIPrep</italic> (Esteban, Markiewicz, et al., <xref rid="hbm25829-bib-0024" ref-type="bibr">2019</xref>), <italic toggle="yes">MRIQC</italic> (Esteban et al., <xref rid="hbm25829-bib-0021" ref-type="bibr">2017</xref>), <italic toggle="yes">FSL</italic> (Jenkinson, Beckmann, Behrens, Woolrich, &amp; Smith, <xref rid="hbm25829-bib-0045" ref-type="bibr">2012</xref>), <italic toggle="yes">ANTs</italic> (Avants et al., <xref rid="hbm25829-bib-0006" ref-type="bibr">2011</xref>), FreeSurfer (Fischl &amp; Dale, <xref rid="hbm25829-bib-0027" ref-type="bibr">2000</xref>), and <italic toggle="yes">AFNI</italic> (Cox, <xref rid="hbm25829-bib-0015" ref-type="bibr">1996</xref>; Cox &amp; Hyde, <xref rid="hbm25829-bib-0016" ref-type="bibr">1997</xref>). As such, all users of one version of <italic toggle="yes">HALFpipe</italic> will be using identical versions of these tools, because they are packaged with the container. Thus, the containerization of <italic toggle="yes">HALFpipe</italic> software aids reproducibility across different researchers and computing environments.</p>
      <p>We have provided the <italic toggle="yes">HALFpipe</italic> application in a Singularity container and a Docker container. Singularity or Docker, which are both freely available, must be installed prior to downloading the containerized <italic toggle="yes">HALFpipe</italic> application. Both Docker and Singularity perform so‐called operating‐system‐level virtualization, but are more efficient and require less resources than virtual machines. Running Docker containers on a Linux or macOS operating system usually requires administrator privileges. Singularity is typically run on a Linux operating system, and may be used without administrator privileges. Docker can be run on the Windows operating system, but compatibility issues may occur with respect to file systems.</p>
      <p>Our <italic toggle="yes">HALFpipe</italic> development team adopted other software engineering best practices, which promoted faster development, and reduced code errors. These industry best practices, which have found their way into research applications (Das, <xref rid="hbm25829-bib-0018" ref-type="bibr">2018</xref>), involve writing code that is easy to read (albeit generally harder to write), the breakdown of complex systems into several simpler subsystems, dedicated effort toward thoughtful code design before implementation, and performing continuous integration via unit tests (Beck, <xref rid="hbm25829-bib-0007" ref-type="bibr">2000</xref>).</p>
      <sec id="hbm25829-sec-0003">
        <label>2.1</label>
        <title>Ecosystem</title>
        <p>
<italic toggle="yes">HALFpipe</italic> has been developed as an open‐source project and is accepting contributions that offer new features, enhance functionality, or improve efficiency. All changes are tracked using the <italic toggle="yes">Git</italic> version control system, which is the de‐facto standard in the open‐source community. In addition, before inclusion in the source tree, changes will be reviewed and then undergo automated testing, which includes unit tests and also running an entire analysis for one subject of the OpenNeuro dataset ds000108 (Wager, Davidson, Hughes, Lindquist, &amp; Ochsner, <xref rid="hbm25829-bib-0074" ref-type="bibr">2008</xref>). This way unexpected side effects and bugs will be caught and corrected before causing problems for users.</p>
        <p>
<italic toggle="yes">HALFpipe</italic> releases are made using semantic versioning as adapted for compatibility with Python (Coghlan &amp; Stufft, <xref rid="hbm25829-bib-0014" ref-type="bibr">2013</xref>). This means that there will be feature releases that add new functionality and patch releases that make minor adjustments to solve specific issues or bugs. The development team takes great care that new patch releases of dependencies such as <italic toggle="yes">fMRIPrep</italic> are regularly incorporated into <italic toggle="yes">HALFpipe</italic> so that bug fixes are made available to users.</p>
        <p>
<italic toggle="yes">HALFpipe</italic> currently depends on the long‐term support release 20.2.x of <italic toggle="yes">fMRIPrep</italic>. For future releases containing new features, the developers will approve possible upgrades that are advantageous to ENIGMA consortium projects. We may also consider replacing tools used for specific processing steps or upgrading the standard brain template in future releases based on such considerations, which will be explained in the change log of each release.</p>
      </sec>
      <sec id="hbm25829-sec-0004">
        <label>2.2</label>
        <title>Databases</title>
        <p>To automatically construct a neuroimaging data processing workflow, the program needs to be able to fulfill queries such as “retrieve the structural image for subject x.” Many programs implement such queries using a database system. The queries also need to flexibly interface with the logic of neuroimaging and processing pipelines, which is relevant in the context of missing scans.</p>
        <p>In the context of missing scans, <italic toggle="yes">HALFpipe</italic> always tries to execute the best possible processing pipeline based on the data that is available. For example, a field map may have been routinely acquired before each functional scan in a particular dataset. If one of these field maps is missing, <italic toggle="yes">HALFpipe</italic> flexibly assigns another field map, for example, one belonging to the preceding functional scan. However, <italic toggle="yes">HALFpipe</italic> will not use a field map from another scan session, as field inhomogeneities are likely to have changed. Finally, <italic toggle="yes">HALFpipe</italic> does not fail if a field map is missing, but simply omits the distortion correction step for that subject. Other examples include the ability of <italic toggle="yes">HALFpipe</italic> to match structural to functional images, and match task events to a functional scan. This strategy is used throughout the construction of processing workflows.</p>
      </sec>
      <sec id="hbm25829-sec-0005">
        <label>2.3</label>
        <title>Metadata</title>
        <p>Processing of neuroimaging data requires access to relevant metadata, such as temporal resolution, spatial resolution, and many others. Some elements of metadata, such as echo time (TE), are represented differently depending on scanner manufacturer and DICOM conversion software. The method for reading various types of data has been harmonized in <italic toggle="yes">HALFpipe</italic> using the following three methods.</p>
        <p>First, metadata can be stored in BIDS format. This means that a JavaScript Object Notation (JSON) file accompanies each image file, which contains the necessary metadata. BIDS calls this file the <italic toggle="yes">sidecar</italic>, and common tools such as <italic toggle="yes">heudiconv</italic> (Halchenko et al., <xref rid="hbm25829-bib-0039" ref-type="bibr">2018</xref>) or <italic toggle="yes">dcm2niix</italic> (Li, Morgan, Ashburner, Smith, &amp; Rorden, <xref rid="hbm25829-bib-0051" ref-type="bibr">2016</xref>) generate these files automatically. If these files are present, <italic toggle="yes">HALFpipe</italic> will detect and use them. Second, instead of sidecar files, some software tools store image metadata in the NIfTI header. The NIfTI format defines fields that can fit metadata, but depending on how the image file was created, this metadata may be missing. Some conversion programs also place the metadata in the description field in free‐text format. This description can also be parsed and read automatically. Third, information may be incorrectly represented due to user error, incompatible units of measurement, or archaic technical considerations. In such cases, <italic toggle="yes">HALFpipe</italic> provides a mechanism to override the incorrect values. For every metadata field, the user interface will prompt the user to confirm that metadata values have been read or inferred correctly. The user can choose to manually enter the correct values.</p>
      </sec>
      <sec id="hbm25829-sec-0006">
        <label>2.4</label>
        <title>Interfaces</title>
        <p>
<italic toggle="yes">HALFpipe</italic> consists of different modules that need to pass data between each other, such as file pathnames and the results of quality assessment procedures. Developing an application as large and complex as <italic toggle="yes">HALFpipe</italic> requires establishing predictable interfaces, which prescribe data formats for communication within the application. An advantage of this approach is that knowledgeable users can write their own code to interface with <italic toggle="yes">HALFpipe</italic>.</p>
        <p>
<italic toggle="yes">HALFpipe</italic> uses the Python module <italic toggle="yes">marshmallow</italic> to implement interfaces, called schemas in the module's nomenclature. All schemas are defined in the halfpipe.schema module. When the user first starts the application, the user interface is displayed by <italic toggle="yes">HALFpipe</italic>. It asks the user a series of questions about the data set and the analysis plan, and stores the inputs in a configuration file called <italic toggle="yes">spec.json</italic>. The configuration file has predictable syntax and can be easily scripted or modified, which enables collaborative studies to harmonize analysis plans.</p>
      </sec>
      <sec id="hbm25829-sec-0007">
        <label>2.5</label>
        <title>Workflow engine</title>
        <p>To obtain reproducible results, a core requirement for <italic toggle="yes">HALFpipe</italic> was reproducible execution of the processing pipeline. As the ENIGMA consortium requires fMRI analysis of large datasets with several thousand samples, <italic toggle="yes">HALFpipe</italic> was designed to parallelize processing on multiple computers or processor cores. Both of these specifications were achieved by implementation in <italic toggle="yes">Nipype</italic>, <italic toggle="yes">NeuroImaging in Python: Pipelines</italic>, and <italic toggle="yes">Interfaces</italic> (Gorgolewski et al., <xref rid="hbm25829-bib-0035" ref-type="bibr">2011</xref>). <italic toggle="yes">Nipype</italic> is a workflow engine for neuroimaging that constructs an acyclic directed graph, in which nodes represent processing commands that need to be executed (the steps of the pipeline), while the edges represent inputs and outputs being passed between nodes (images or text files). In this formalization of a neuroimaging pipeline as a graph, the fastest order for execution across multiple processor cores can be determined.</p>
        <p>The workflow graphs are modular and scalable, which means they can be nested and extended. <italic toggle="yes">HALFpipe</italic> uses the workflows defined by <italic toggle="yes">fMRIPrep</italic> and then connects these outputs to additional workflows. <italic toggle="yes">fMRIPrep</italic> itself is modular and divided into multiple workflows: <italic toggle="yes">sMRIPrep</italic> (Esteban, Markiewicz, Blair, Poldrack, &amp; Gorgolewski, <xref rid="hbm25829-bib-0023" ref-type="bibr">2021</xref>), <italic toggle="yes">SDCFlows</italic> (Esteban, Markiewicz, Blair, Poldrack, &amp; Gorgolewski, <xref rid="hbm25829-bib-0025" ref-type="bibr">2020</xref>), <italic toggle="yes">NiWorkflows</italic> (Esteban, Markiewicz, Esteban et al., <xref rid="hbm25829-bib-0026" ref-type="bibr">2021</xref>), and <italic toggle="yes">NiTransforms</italic> (Goncalves et al., <xref rid="hbm25829-bib-0033" ref-type="bibr">2021</xref>). The workflow graph facilitates saving and verifying intermediate results, and supports the user's ability to stop and later restart processing. <italic toggle="yes">HALFpipe</italic> also uses the graphs to determine which intermediate results files are not needed by subsequent commands by using a tracing garbage collection algorithm (Dijkstra, Lamport, Martin, Scholten, &amp; Steffens, <xref rid="hbm25829-bib-0019" ref-type="bibr">1978</xref>). As such, intermediate files do not accumulate on the storage device. This feature is implemented as a plugin to <italic toggle="yes">Nipype</italic>.</p>
        <p>
<italic toggle="yes">Nipype</italic> forms the basis of <italic toggle="yes">fMRIPrep</italic> and <italic toggle="yes">C‐PAC</italic>, which are widely used in the neuroimaging community. However, it has several limitations that are relevant in the context of <italic toggle="yes">HALFpipe</italic>. <italic toggle="yes">HALFpipe</italic> is able to calculate features and statistical maps with different variations of preprocessing settings. To do this efficiently, intermediate results need to be re‐used whenever possible. An improved second version of <italic toggle="yes">Nipype</italic> is currently being developed, called <italic toggle="yes">Pydra</italic> (Jarecka et al., <xref rid="hbm25829-bib-0044" ref-type="bibr">2020</xref>), which will be able to automatically detect repetitive processing commands, and automatically re‐use outputs. Presently, until <italic toggle="yes">Pydra</italic> becomes available, <italic toggle="yes">HALFpipe</italic> calculates a four‐letter hash code that uniquely identifies each pre‐processing step. Before constructing a new pre‐processing command, <italic toggle="yes">HALFpipe</italic> checks whether its hash has already been added to the graph. If present, the existing command is re‐used, significantly reducing processing times in the context of multiverse analysis or pipeline comparison.</p>
        <p>To illustrate the benefits of this approach participant <italic toggle="yes">01</italic> of a face matching task data set (Wakeman &amp; Henson, <xref rid="hbm25829-bib-0075" ref-type="bibr">2015</xref>) was entered into <italic toggle="yes">HALFpipe</italic> and task contrasts were calculated with three pipelines. For the first pipeline, we used the recommended settings from Table <xref rid="hbm25829-tbl-0003" ref-type="table">3</xref>. For the second and third pipelines, we used the same settings but disabled <italic toggle="yes">ICA‐AROMA</italic>. For the second pipeline we additionally added the motion parameters to the task model as confound time series. The third pipeline did not include any denoising or confound time series removal. The naive approach is to run <italic toggle="yes">HALFpipe</italic> three times, once for each pipeline. This approach is sub‐optimal, as many duplicate computations are performed. By default, <italic toggle="yes">HALFpipe</italic> combines all three pipelines using the hashing approach described above, making processing much faster. Processing was performed on an <italic toggle="yes">AMD Ryzen Threadripper 2950X</italic> 16‐core processor, and each run of <italic toggle="yes">HALFpipe</italic> was configured to use all cores. Table <xref rid="hbm25829-tbl-0002" ref-type="table">2</xref> shows the processing time (<italic toggle="yes">wall clock time</italic>) spent on each pipeline. For the naive approach, we also show the total time.</p>
        <table-wrap position="float" id="hbm25829-tbl-0002" content-type="TABLE">
          <label>TABLE 2</label>
          <caption>
            <p>Efficient pipeline construction speeds up multiverse analyses</p>
          </caption>
          <table frame="hsides" rules="groups">
            <col align="left" span="1"/>
            <col align="left" span="1"/>
            <col align="left" span="1"/>
            <thead valign="bottom">
              <tr style="border-bottom:solid 1px #000000">
                <th align="left" valign="bottom" rowspan="1" colspan="1"/>
                <th align="left" valign="bottom" rowspan="1" colspan="1">Naive approach</th>
                <th align="left" valign="bottom" rowspan="1" colspan="1">
<italic toggle="yes">HALFpipe</italic> approach (via hashing algorithm)</th>
              </tr>
            </thead>
            <tbody valign="top">
              <tr>
                <td align="left" valign="top" rowspan="1" colspan="1">Processing time (hh:mm)</td>
                <td align="left" valign="top" rowspan="1" colspan="1">01:39 + 01:36 + 01:33 = <bold>04:49</bold>
</td>
                <td align="left" valign="top" rowspan="1" colspan="1">
<bold>01:43</bold>
</td>
              </tr>
            </tbody>
          </table>
        </table-wrap>
        <p>Another key requirement of <italic toggle="yes">HALFpipe</italic> was robust and flexible handling of missing data. For instance, a missing functional scan or statistical map does not cause <italic toggle="yes">HALFpipe</italic> to fail. In addition, <italic toggle="yes">HALFpipe</italic> defines inclusion and exclusion criteria for scans, such as the maximum allowed motion (mean framewise displacement) or a minimum brain coverage when extracting a brain region's average signal. Finally, depending on the data set, statistical maps may need to be aggregated across runs or sessions within single subjects before a group‐level model can be run. This means that the static graph has to be modified dynamically to adapt to the results of processing. <italic toggle="yes">HALFpipe</italic> solves this problem by defining a data structure that not only contains the file names of statistical maps, but also the tags and metadata that can be used to adjust processing on the fly. For example, using this data structure, design matrices can be constructed for group models based on the actual subjects that have statistical maps available.</p>
      </sec>
      <sec id="hbm25829-sec-0008">
        <label>2.6</label>
        <title>Preprocessing</title>
        <p>Main preprocessing is done in <italic toggle="yes">HALFpipe</italic> with <italic toggle="yes">fMRIPrep</italic>, which performs a consensus of preprocessing steps required for any fMRI study (Esteban, Markiewicz, et al., <xref rid="hbm25829-bib-0024" ref-type="bibr">2019</xref>). Consensus steps for structural images include skull stripping, tissue segmentation, and spatial normalization. Consensus steps for functional images include motion correction, slice time correction, susceptibility distortion correction, coregistration, and spatial normalization (Figure <xref rid="hbm25829-fig-0001" ref-type="fig">1</xref>).</p>
        <fig position="float" fig-type="FIGURE" id="hbm25829-fig-0001">
          <label>FIGURE 1</label>
          <caption>
            <p>HALFpipe workflow. HALFpipe is configured in a user interface where the user is asked a series of questions about their data and the processing steps to perform. Data are then converted to BIDS format (Gorgolewski et al., <xref rid="hbm25829-bib-0034" ref-type="bibr">2016</xref>) to allow standardized processing (white). After minimal preprocessing of the structural (blue) and functional (green and orange) data with fMRIPrep (Esteban, Blair, et al., <xref rid="hbm25829-bib-0022" ref-type="bibr">2019</xref>), additional preprocessing steps can be selected (red). Using the preprocessed data, statistical maps can be calculated during feature extraction (turquoise). Finally, group statistics can be performed (yellow). Note that not all preprocessing steps are available for each feature, as is outlined in Table <xref rid="hbm25829-tbl-0003" ref-type="table">3</xref>. The diagram omits this information to increase visual clarity</p>
          </caption>
          <graphic xlink:href="HBM-43-2727-g001" position="anchor" id="jats-graphic-3"/>
        </fig>
        <p>
<italic toggle="yes">HALFpipe</italic> defines standard space as the <italic toggle="yes">MNI152NLin2009cAsym</italic> template, which is the most current and detailed template available (Horn, <xref rid="hbm25829-bib-0043" ref-type="bibr">2016</xref>). Note that the standard space template is not user‐configurable, so that any outputs generated by one version of <italic toggle="yes">HALFpipe</italic> can be easily compared to outputs generated by another version of <italic toggle="yes">HALFpipe</italic>.</p>
        <p>Once the fMRI data have been processed with <italic toggle="yes">fMRIPrep</italic> and resampled into standard space, <italic toggle="yes">HALFpipe</italic> implements a number of additional preprocessing steps for denoising, filtering, and harmonizing the functional data (see also Figure <xref rid="hbm25829-fig-0001" ref-type="fig">1</xref>):<list list-type="order" id="hbm25829-list-0001"><list-item id="hbm25829-li-0001"><p>
<italic toggle="yes">ICA‐AROMA</italic> is an algorithm based on independent component analysis. It classifies components into those that contain signal and those that are noise (Pruim et al., <xref rid="hbm25829-bib-0063" ref-type="bibr">2015</xref>). To accomplish this, <italic toggle="yes">ICA‐AROMA</italic> relies on reference templates defined in <italic toggle="yes">MNI152NLin6Asym</italic> space, which is different from the standard space template <italic toggle="yes">MNI152NLin2009cAsym</italic> that is used by <italic toggle="yes">fMRIPrep</italic>. To allow <italic toggle="yes">ICA‐AROMA</italic> to run, it is thus necessary to provide the preprocessed image not just in the default template space, but also in the one required by <italic toggle="yes">ICA‐AROMA</italic>. By default, <italic toggle="yes">fMRIPrep</italic> will estimate a second normalization to this other template, apply it to the fMRI image in native space, and run <italic toggle="yes">ICA‐AROMA</italic> on the resulting image (Ciric et al., <xref rid="hbm25829-bib-0013" ref-type="bibr">2021</xref>). This approach effectively doubles the processor time spent on spatial normalization, and may require manually checking both spatial registrations.</p><p>To avoid this considerable effort, <italic toggle="yes">HALFpipe</italic> implements a different approach by using an existing warp between the two standard template spaces (Horn, <xref rid="hbm25829-bib-0043" ref-type="bibr">2016</xref>). This predefined warp is concatenated with the normalization that was already estimated by <italic toggle="yes">fMRIPrep</italic>, and then a second round of resampling is performed with <italic toggle="yes">fMRIPrep</italic>'s <italic toggle="yes">bold_std_trans_wf</italic>. This way, only the resampling step needs to be run twice.</p><p>Finally, Independent component analysis‐based automatic removal Of motion artifacts (<italic toggle="yes">ICA‐AROMA)</italic> is run on the resulting fMRI image in <italic toggle="yes">MNI152NLin6Asym</italic> space using <italic toggle="yes">fMRIPrep</italic>'s <italic toggle="yes">ica_aroma_wf</italic> workflow, which also includes spatial smoothing fixed to a 6 mm FWHM smoothing kernel. The resulting classifications are kept for step 4.</p></list-item><list-item id="hbm25829-li-0002"><p>
<italic toggle="yes">HALFpipe</italic>implements spatial smoothing using <italic toggle="yes">AFNI</italic>'s <italic toggle="yes">3dBlurTo Full Width at Half Maximum (FWHM)</italic> (Friedman, Glover, Krenz, &amp; Magnotta, <xref rid="hbm25829-bib-0029" ref-type="bibr">2006</xref>). Each voxel's signal is averaged with the signal of surrounding voxels weighted by an isotropic Gaussian kernel. At the edges of the brain, this kernel may include nonbrain voxels, so smoothing is constrained by the brain mask. This is equivalent to the procedure in the <italic toggle="yes">Minimal Preprocessing Pipelines for the Human Connectome Project</italic> (Glasser et al., <xref rid="hbm25829-bib-0032" ref-type="bibr">2013</xref>). In addition, <italic toggle="yes">3dBlurToFWHM</italic> estimates the smoothness of the resulting image, and iteratively decreases the amount of smoothing so that the resulting smoothness matches the user setting. This way, differences in the intrinsic smoothness between datasets (e.g., due to different voxel sizes) can be harmonized.</p></list-item><list-item id="hbm25829-li-0003"><p>Grand mean scaling sets the image mean, defined as the within‐scan mean across all voxels and time points, to a predefined value. The grand mean is closely related to scanner parameters such as RF power or amplifier gain but not to neural mechanisms (Gavrilescu et al., <xref rid="hbm25829-bib-0030" ref-type="bibr">2002</xref>). Adjusting the grand mean via scaling makes analysis results more interpretable and comparable across subjects, sessions, and sites. The scaling factor is calculated based on the masked functional image, and applied to both the fMRI data and the confound time series extracted by <italic toggle="yes">fMRIPrep</italic>.</p></list-item><list-item id="hbm25829-li-0004"><p>If selected, the previously estimated <italic toggle="yes">ICA‐AROMA</italic> noise components are removed from the smoothed and grand‐mean‐scaled fMRI data. This is performed in a nonaggressive way to minimize removing variance that is shared between signal and noise components. <italic toggle="yes">ICA‐AROMA</italic> implements this step using the <italic toggle="yes">FSL</italic> command <italic toggle="yes">fsl_regfilt</italic>, which calculates an ordinary least squares regression for each voxel, where the design matrix includes both the signal and the noise components as regressors. This means that the resulting regression weights reflect the unique variance of the noise components (and not the shared variance with signal components). Then, the noise component regressors are multiplied by their regression weights and these products are added together to yield one time series of the noise. Subtracting the noise from the voxel time series yields a denoised time series (the regression residuals). This step is done using a custom re‐implementation of <italic toggle="yes">fsl_regfilt</italic> in <italic toggle="yes">HALFpipe</italic> using <italic toggle="yes">Numpy</italic> (Harris et al., <xref rid="hbm25829-bib-0041" ref-type="bibr">2020</xref>).</p></list-item><list-item id="hbm25829-li-0005"><p>Temporal filtering can be selected to remove low‐frequency drift via a high‐pass filter, high‐frequency noise via a low‐pass filter, or both at the same time using a band‐pass filter. <italic toggle="yes">HALFpipe</italic> implements two approaches to temporal filtering, a frequency‐based approach (Jo et al., <xref rid="hbm25829-bib-0046" ref-type="bibr">2013</xref>) and a Gaussian‐weighted approach (Marchini &amp; Ripley, <xref rid="hbm25829-bib-0052" ref-type="bibr">2000</xref>). The frequency‐based temporal filter is very exact in selecting frequencies to be kept or removed, and is commonly used to calculate fractional amplitude of LFF (fALFF) and regional homogeneity (ReHo). The Gaussian‐weighted temporal filter is the default used by <italic toggle="yes">FSL Feat</italic> (Jenkinson et al., <xref rid="hbm25829-bib-0045" ref-type="bibr">2012</xref>) and may have fewer edge effects at the start and end of the time series. However, its spectrum also has a more gradual roll‐off, meaning that it will be less aggressive in removing frequencies close to the chosen cutoff value.</p></list-item></list>Importantly, <italic toggle="yes">HALFpipe</italic> runs <italic toggle="yes">fMRIPrep</italic> with small modifications. For instance, we disabled <italic toggle="yes">fMRIPrep</italic>'s experimental susceptibility distortion correction in the absence of field maps, because it is not yet validated. Furthermore, <italic toggle="yes">HALFpipe</italic> suggests default settings for each preprocessing step, which are outlined in Table <xref rid="hbm25829-tbl-0003" ref-type="table">3</xref>. Note that some are selected based on best‐practices in the field (i.e., band‐pass temporal filter for ALFF and ReHo), whereas most default settings can be adjusted by the user. Last, <italic toggle="yes">HALFpipe</italic> does not output preprocessed and normalized functional images by default, because they use a lot of disk space. However, in the user interface users can manually choose to output a preprocessed functional image with their choice of preprocessing settings.</p>
        <table-wrap position="float" id="hbm25829-tbl-0003" content-type="TABLE">
          <label>TABLE 3</label>
          <caption>
            <p>Default values for preprocessing settings per feature</p>
          </caption>
          <table frame="hsides" rules="groups">
            <col align="left" span="1"/>
            <col align="left" span="1"/>
            <col align="center" span="1"/>
            <col align="center" span="1"/>
            <col align="center" span="1"/>
            <col align="center" span="1"/>
            <col align="center" span="1"/>
            <col align="center" span="1"/>
            <col align="center" span="1"/>
            <thead valign="bottom">
              <tr style="border-bottom:solid 1px #000000">
                <th align="left" valign="bottom" rowspan="1" colspan="1"/>
                <th align="left" valign="bottom" rowspan="1" colspan="1"/>
                <th style="border-bottom:solid 1px #000000" align="left" colspan="7" valign="bottom" rowspan="1">Feature</th>
              </tr>
            </thead>
            <tbody valign="top">
              <tr>
                <td align="left" valign="top" rowspan="1" colspan="1"/>
                <td align="left" valign="top" rowspan="1" colspan="1"/>
                <td align="center" valign="top" rowspan="1" colspan="1">Preprocessed image</td>
                <td align="center" valign="top" rowspan="1" colspan="1">Task‐based activation</td>
                <td align="center" valign="top" rowspan="1" colspan="1">Seed‐based connectivity</td>
                <td align="center" valign="top" rowspan="1" colspan="1">Dual regression</td>
                <td align="center" valign="top" rowspan="1" colspan="1">Atlas‐based connectivity matrix</td>
                <td align="center" valign="top" rowspan="1" colspan="1">ReHo</td>
                <td align="center" valign="top" rowspan="1" colspan="1">fALFF</td>
              </tr>
              <tr>
                <td rowspan="6" align="left" valign="top" colspan="1">Preprocessing step</td>
                <td align="left" valign="top" rowspan="1" colspan="1">Spatial smoothing</td>
                <td style="background-color:#D9EAD3" colspan="4" align="center" valign="top" rowspan="1">6 mm</td>
                <td style="background-color:#B7B7B7" align="left" valign="top" rowspan="1" colspan="1"/>
                <td style="background-color:#D9EAD3" colspan="2" align="center" valign="top" rowspan="1">6 mm<xref rid="hbm25829-note-0006" ref-type="table-fn">
<sup>a</sup>
</xref>
</td>
              </tr>
              <tr>
                <td align="left" valign="top" rowspan="1" colspan="1">Grand mean scaling</td>
                <td style="background-color:#D9EAD3" colspan="7" align="center" valign="top" rowspan="1">10,000</td>
              </tr>
              <tr>
                <td align="left" valign="top" rowspan="1" colspan="1">ICA‐AROMA</td>
                <td style="background-color:#D9EAD3" colspan="7" align="center" valign="top" rowspan="1">Yes</td>
              </tr>
              <tr>
                <td align="left" valign="top" rowspan="1" colspan="1">Temporal filter</td>
                <td style="background-color:#D9EAD3" colspan="4" align="center" valign="top" rowspan="1">Gaussian (128 s FWHM)</td>
                <td style="background-color:#D9EAD3" colspan="3" align="center" valign="top" rowspan="1">Frequency‐based (0.01–0.1 Hz)</td>
              </tr>
              <tr>
                <td align="left" valign="top" rowspan="1" colspan="1">Confound removal</td>
                <td style="background-color:#D9EAD3" align="left" valign="top" rowspan="1" colspan="1">None</td>
                <td style="background-color:#B7B7B7" align="left" colspan="3" valign="top" rowspan="1"/>
                <td style="background-color:#D9EAD3" colspan="3" align="center" valign="top" rowspan="1">None</td>
              </tr>
              <tr>
                <td align="left" valign="top" rowspan="1" colspan="1">Add confounds to model</td>
                <td style="background-color:#B7B7B7" align="left" valign="top" rowspan="1" colspan="1"/>
                <td style="background-color:#D9EAD3" colspan="3" align="center" valign="top" rowspan="1">None</td>
                <td style="background-color:#B7B7B7" align="left" colspan="3" valign="top" rowspan="1"/>
              </tr>
            </tbody>
          </table>
          <table-wrap-foot id="hbm25829-ntgp-0003">
            <fn id="hbm25829-note-0005">
              <p>Note: Cells filled in gray indicate that this option cannot be selected in the user interface, all other settings can be adjusted by the user.</p>
            </fn>
            <fn id="hbm25829-note-0006">
              <label>
<sup>a</sup>
</label>
              <p>Done on the statistical maps after feature extraction.</p>
            </fn>
          </table-wrap-foot>
        </table-wrap>
      </sec>
      <sec id="hbm25829-sec-0009">
        <label>2.7</label>
        <title>Confound time series removal</title>
        <p>
<italic toggle="yes">fMRIPrep</italic> not only outputs a preprocessed image in standard space but also a spreadsheet with confound time series named <italic toggle="yes">confounds.tsv</italic>. These include the (derivatives of) motion parameters (squared), aCompCor components (Behzadi, Restom, Liau, &amp; Liu, <xref rid="hbm25829-bib-0009" ref-type="bibr">2007</xref>), white matter signal, CSF signal, and global signal. A key consideration needs to be made when using <italic toggle="yes">fMRIPrep</italic> confound time series in conjunction with the preprocessing steps outlined in the previous section: Using confound time series as nuisance regressors with data that was temporally filtered or denoised can re‐introduce the removed temporal or noise signals back into the voxel time series (Hallquist, Hwang, &amp; Luna, <xref rid="hbm25829-bib-0040" ref-type="bibr">2013</xref>).</p>
        <p>An example of this phenomenon may be regressing out a set of <italic toggle="yes">fMRIPrep</italic> confound time series after removing low‐frequency drift via temporal filtering. In practice, this means setting up a regression model for each voxel, where the voxel time series is the dependent variable and the regressors are the confound time series. The regression will yield a weight for each confound time series, so that the total model explains the maximum amount of variance (under assumption of normality). After multiplying the confound time series with these weights, their products are summed to one time series containing the confound‐related signal in that voxel. This time series is then subtracted from the original voxel time series to get the result (i.e., the regression residuals). However, if the confound time series happen to contain any low‐frequency drift, then their weighted sum likely will as well. It follows that subtracting a time series with temporal drift from the temporally filtered voxel data will re‐introduce temporal drift, independent of whether a temporal filter was applied before.</p>
        <p>In <italic toggle="yes">HALFpipe</italic>, any (optional) denoising or filter applied to the voxel time series is also applied to the <italic toggle="yes">fMRIPrep</italic> confound time series. This way, previously removed variance is not re‐introduced accidentally, because it has been removed from both sides of the regression equation. For example, when the user chooses to perform <italic toggle="yes">ICA‐AROMA</italic> denoising, then the same denoising will be applied to the time <italic toggle="yes">fMRIPrep</italic> confound time series, and the same applies when using a temporal filter. Note that this means that the confound time series generated by <italic toggle="yes">HALFpipe</italic> will be different from the original <italic toggle="yes">fMRIPrep</italic> confound time series, and users should take care to use the appropriate file when running custom analyses.</p>
      </sec>
      <sec id="hbm25829-sec-0010">
        <label>2.8</label>
        <title>Quality assessment</title>
        <p>Assessing the quality of data and preprocessing is a laborious undertaking and often performed manually. Efforts to automate this process, either through predefined thresholds of image quality features (Alfaro‐Almagro et al., <xref rid="hbm25829-bib-0004" ref-type="bibr">2018</xref>) or machine learning (Esteban et al., <xref rid="hbm25829-bib-0021" ref-type="bibr">2017</xref>) are not yet ready to replace the eyes of a trained researcher checking the data. However, various approaches make this process easier. First, rather than viewing three‐dimensional neuroimaging files directly, generating and viewing reports containing two‐dimensional images offers a significant time savings. Second, tools such as <italic toggle="yes">slicesdir</italic> (in <italic toggle="yes">FSL</italic>), <italic toggle="yes">fMRIPrep</italic>, and <italic toggle="yes">MRIQC</italic> generate HTML files that contain multiple report images and can be explored in a web browser. <italic toggle="yes">MRIQC</italic> also provides an interactive widget to rate the quality of each image (Esteban, Blair, et al., <xref rid="hbm25829-bib-0022" ref-type="bibr">2019</xref>).</p>
        <p>In <italic toggle="yes">HALFpipe</italic>, we use a fixed set of processing steps for quality assessment. While <italic toggle="yes">slicesdir</italic> allows the researcher to easily compare the same image type across different subjects, it cannot be used to generate reports for all types of images. By contrast, <italic toggle="yes">fMRIPrep</italic>/<italic toggle="yes">MRIQC</italic> HTML files have a broad range of information and quality report images included, but one HTML file is always specific to one subject. As such, examining multiple processing steps in many subjects can be cumbersome.</p>
        <p>To overcome these issues, <italic toggle="yes">HALFpipe</italic> provides an interactive web app that is contained in a single HTML file. The app dynamically loads reports with images, and can handle datasets up to thousands of images without a performance penalty. The images can be sorted both by subject, as is done by <italic toggle="yes">fMRIPrep</italic>/<italic toggle="yes">MRIQC</italic>, or by image type, as is performed in <italic toggle="yes">slicesdir</italic>. Each image can be rated as either good, uncertain, or bad. Predefined logic automatically converts these ratings into inclusion/exclusion decisions for <italic toggle="yes">HALFpipe</italic>'s group statistics. In addition, tagging images as uncertain enables users to efficiently retrieve and discuss these with a colleague or collaborator, after which a definitive decision on image quality can be made.</p>
      </sec>
      <sec id="hbm25829-sec-0011">
        <label>2.9</label>
        <title>Group statistics</title>
        <p>
<italic toggle="yes">HALFpipe</italic> uses <italic toggle="yes">FSL</italic> FMRIB Local Analysis of Mixed Effects (FLAME, Woolrich, Behrens, Beckmann, Jenkinson, &amp; Smith, <xref rid="hbm25829-bib-0077" ref-type="bibr">2004</xref>) for group statistics, because FLAME considers the within‐subject variance of lower level estimates in its mixed‐effects models. In addition, its estimates are conservative, which means they offer robust control of the false positive rate (Eklund, Nichols, &amp; Knutsson, <xref rid="hbm25829-bib-0020" ref-type="bibr">2016</xref>).</p>
        <p>A common issue in fMRI studies is that the spatial extent of brain coverage may differ between subjects. A common choice is to restrict higher‐level statistics to only those voxels that were acquired in every subject. However, with a large variation in brain coverage, which is to be expected when pooling multi‐cohort data, sizable portions of the brain may ultimately be excluded from analysis. To circumvent this issue, <italic toggle="yes">HALFpipe</italic> uses a re‐implementation of FLAME in <italic toggle="yes">Numpy</italic> (Harris et al., <xref rid="hbm25829-bib-0041" ref-type="bibr">2020</xref>). In this implementation, a unique design matrix is generated for every voxel so that only subjects who have a measurable value for a given voxel are included. Then, the model is estimated using the FLAME algorithm. This list‐wise deletion approach depends on the assumption that voxels are missing completely at random (MCAR), meaning that the regressors (and thus statistical values) are independent of scanner coverage.</p>
        <p>For group models, users can specify flexible factorial models that include covariates and group comparisons. By default, missing values for these variables are handled by list‐wise deletion as well, but the user may alternatively choose to replace missing values by zero in the demeaned design matrix. The latter approach is equivalent to imputation by the sample mean. Design matrices for the flexible factorial models are generated using the Python module <italic toggle="yes">Patsy</italic> (Smith et al., <xref rid="hbm25829-bib-0066" ref-type="bibr">2018</xref>). Contrasts between groups are specified using the <italic toggle="yes">lsmeans</italic> procedure (Lenth, <xref rid="hbm25829-bib-0050" ref-type="bibr">2016</xref>).</p>
      </sec>
      <sec id="hbm25829-sec-0012">
        <label>2.10</label>
        <title>Running on a high‐performance cluster</title>
        <p>Deploying <italic toggle="yes">Nipype</italic> to perform computations on multiple nodes, such as on a high‐performance cluster (HPC) is particularly challenging. By default, <italic toggle="yes">Nipype</italic> submits a separate job to the cluster queue for each processing command (graph node) regardless of the amount of time required to execute the command. A watcher process running on the head node collects outputs from completed commands and submits the next processing command. This process can be inefficient on some HPCs because computational resources need to be allocated and deallocated continually. We implemented a more efficient approach for <italic toggle="yes">HALFpipe</italic> that partitions the processing graph into many independent subgraphs, which the user may submit as separate jobs. The smallest granularity available is one subgraph per subject that is invoked automatically with the command line flag—use‐cluster. A <italic toggle="yes">Nipype</italic> workflow is created and validated for all subjects before the pipeline starts running. In a cluster setting, the most efficient resource utilization is to submit each subject as a separate job and to run each job on two CPU cores.</p>
      </sec>
      <sec id="hbm25829-sec-0013">
        <label>2.11</label>
        <title>Procedure</title>
        <p>
<italic toggle="yes">HALFpipe</italic> starts up as a terminal‐based user interface that prompts the user with a series of questions about the dataset being analyzed and the desired analysis plan. The main stages of <italic toggle="yes">HALFpipe</italic> analysis, which are detailed below, include loading data, preprocessing with <italic toggle="yes">fMRIPrep</italic>, quality assessment, feature extraction, and group‐level statistics. Users have the flexibility to specify the settings for each processing stage at one time or separately at each stage. If <italic toggle="yes">HALFpipe</italic> is stopped and resumed at an intermediate stage, <italic toggle="yes">HALFpipe</italic> will detect which stages have been completed and ask the user to indicate further analyses that are desired. For instance, the user can request preprocessing and feature extraction, but not group‐level statistics, and later resume processing specifying group‐level statistics only.</p>
      </sec>
      <sec id="hbm25829-sec-0014">
        <label>2.12</label>
        <title>Loading data</title>
        <p>A major advantage of <italic toggle="yes">HALFpipe</italic> is that it accepts input data organized in various formats without the need for file naming conventions or a specific directory structure. Using the terminal interface, the user is asked to provide the location of the T1‐weighted and fMRI BOLD image files, which are required for preprocessing, as well as field maps and task event files if available or applicable. However, <italic toggle="yes">HALFpipe</italic> requires additional information linking the image files to run in an automated fashion, such as information specifying which set of images belong to the same subject.</p>
        <p>Through the use of path templates, <italic toggle="yes">HALFpipe</italic> can handle a wide range of folder structures and data layouts. The syntax for path templates is adapted from <italic toggle="yes">C‐PAC</italic>'s data configuration (Giavasis, Pellman, Clucas, &amp; Lurie, <xref rid="hbm25829-bib-0031" ref-type="bibr">2020</xref>). Instead of manually adding each input file for each subject separately, as is performed in the <italic toggle="yes">SPM</italic> or <italic toggle="yes">FSL</italic> user interfaces, the template describes the pattern used for naming files. That pattern can match many file names, thereby reducing the amount of manual work for the user. For example, when placing the tag <italic toggle="yes">{subject}</italic> in the file path <italic toggle="yes">{subject}_t1.nii.gz</italic>, all files of which the name ends in <italic toggle="yes">_t1</italic> and have the extension <italic toggle="yes">.nii.gz</italic> will be selected. The part of the filename that comes before <italic toggle="yes">_t1</italic> is now interpreted by the parsing algorithm as the subject identifier. When multiple files from different modalities have the same subject identifier, or session number, and so on, they will be matched automatically by these tags. Automated processing workflows can then be constructed around the resulting data structure.</p>
        <p>In contrast to <italic toggle="yes">C‐PAC</italic>'s data configuration syntax, <italic toggle="yes">HALFpipe</italic> path templates use BIDS tags (Gorgolewski et al., <xref rid="hbm25829-bib-0034" ref-type="bibr">2016</xref>). <italic toggle="yes">HALFpipe</italic> path templates can be further specified by adding a colon and a regular expression after the tag name (as in standard Python regular expression syntax). For example, <italic toggle="yes">{subject:[0–9]}</italic> will only match subject identifiers that contain only digits. This can be useful for more complex data layouts, such as when multiple datasets are placed in the same directory, and only a single subset is to be used. For more examples, see Table <xref rid="hbm25829-tbl-0004" ref-type="table">4</xref>.</p>
        <table-wrap position="float" id="hbm25829-tbl-0004" content-type="TABLE">
          <label>TABLE 4</label>
          <caption>
            <p>Examples of path template syntax</p>
          </caption>
          <table frame="hsides" rules="groups">
            <col align="left" span="1"/>
            <col align="left" span="1"/>
            <col align="left" span="1"/>
            <thead valign="bottom">
              <tr style="border-bottom:solid 1px #000000">
                <th align="left" valign="bottom" rowspan="1" colspan="1"/>
                <th align="left" valign="bottom" rowspan="1" colspan="1">Example 1</th>
                <th align="left" valign="bottom" rowspan="1" colspan="1">Example 2</th>
              </tr>
            </thead>
            <tbody valign="top">
              <tr>
                <td align="left" valign="top" rowspan="1" colspan="1">Path template</td>
                <td align="left" valign="top" rowspan="1" colspan="1">
<monospace>data/{subject}/bold_rest.nii.gz</monospace>
</td>
                <td align="left" valign="top" rowspan="1" colspan="1">
<monospace>data/subject{subject}/bold_{task}.Nii.Gz</monospace>
</td>
              </tr>
              <tr>
                <td align="left" valign="top" rowspan="1" colspan="1">Matches these files</td>
                <td align="left" valign="top" rowspan="1" colspan="1">
<p>
<monospace>data/<underline underline-style="single">subject01</underline>/bold_rest.nii.gz</monospace>
</p>
<p>
<monospace>data/<underline underline-style="single">subject02</underline>/bold_rest.nii.gz</monospace>
</p>
<p>
<monospace>data/<underline underline-style="single">subject03</underline>/bold_rest.nii.gz</monospace>
</p>
<p>
<monospace>data/<underline underline-style="single">phantom</underline>/bold_rest.nii.gz</monospace>
</p>
</td>
                <td align="left" valign="top" rowspan="1" colspan="1">
<p>
<monospace>data/subject<underline underline-style="single">01</underline>/bold_<underline underline-style="single">rest</underline>.nii.gz</monospace>
</p>
<p>
<monospace>data/subject<underline underline-style="single">02</underline>/bold_<underline underline-style="single">rest</underline>.nii.gz</monospace>
</p>
<p>
<monospace>data/subject<underline underline-style="single">03</underline>/bold_<underline underline-style="single">rest</underline>.nii.gz</monospace>
</p>
<p>
<monospace>data/subject<underline underline-style="single">01</underline>/bold_<underline underline-style="single">task</underline>.nii.gz</monospace>
</p>
</td>
              </tr>
              <tr>
                <td align="left" valign="top" rowspan="1" colspan="1">Does not match</td>
                <td align="left" valign="top" rowspan="1" colspan="1">
<p>
<monospace>Data/subject01/bold_<underline underline-style="single">task</underline>.Nii.Gz</monospace>
</p>
<p>
<monospace>Data/subfolder/<underline underline-style="single">subject01</underline>/bold_rest.nii.gz</monospace>
</p>
</td>
                <td align="left" valign="top" rowspan="1" colspan="1">
<p>
<monospace>data/<underline underline-style="single">phantom</underline>/bold_rest.nii.gz</monospace>
</p>
<p>
<monospace>data/<underline underline-style="single">subfolder</underline>/subject01/bold_rest.nii.z</monospace>
</p>
</td>
              </tr>
            </tbody>
          </table>
          <table-wrap-foot id="hbm25829-ntgp-0004">
            <fn id="hbm25829-note-0007">
              <p>
<italic toggle="yes">Note</italic>: The undelined text shows the part of the file name that is responsible for matching/not matching.</p>
            </fn>
          </table-wrap-foot>
        </table-wrap>
        <p>In the <italic toggle="yes">HALFpipe</italic> user interface, the user receives feedback on how many and which files are matched, so that the path templates can be entered interactively. Importantly, after finishing the configuration process via the user interface, all files are internally converted into the standardized BIDS structure, which is a prerequisite for running <italic toggle="yes">fMRIPrep</italic>. However, no copies of files are made, the conversion is based entirely on symbolic links (aliases) to the original files. If the data are already in BIDS format, <italic toggle="yes">HALFpipe</italic> will still carry out this conversion for consistency. The resulting dataset in BIDS format is then stored in the working directory in a subfolder called <italic toggle="yes">rawdata</italic>.</p>
      </sec>
      <sec id="hbm25829-sec-0015">
        <label>2.13</label>
        <title>Quality assessment</title>
        <p>Quality assessment can be performed in an interactive, browser‐based user interface (see Figure <xref rid="hbm25829-fig-0002" ref-type="fig">2</xref>). <italic toggle="yes">HALFpipe</italic> provides a detailed user manual for quality assessment that is linked on the web page. The web app shows report images of several preprocessing steps such as T1 skull stripping and normalization, BOLD tSNR, motion confounds, ICA‐based artifact removal, and spatial normalization (see the methods section on Quality assessment). These images can be visually inspected and rated by the viewer as either good, uncertain, or bad.</p>
        <fig position="float" fig-type="FIGURE" id="hbm25829-fig-0002">
          <label>FIGURE 2</label>
          <caption>
            <p>Quality assessment user interface. The top panel shows the charts view, containing one chart for processing status, one for quality ratings and one for image quality metrics. In the top left corner, the navigation menu is open, which shows the option to export ratings for use in group statistics. The bottom panel contains a screenshot of the explorer view that allows the user to navigate across subjects and image types. The explorer view shows the currently selected report image on the right, along with its rating, related images, and the source files that were used to construct it. By clicking on the image, or selecting the report detail view in the navigation menu, the image can be zoomed and panned using the mouse</p>
          </caption>
          <graphic xlink:href="HBM-43-2727-g003" position="anchor" id="jats-graphic-5"/>
        </fig>
        <p>Ratings will be saved in the local browser storage. Once completed, they can be downloaded in JSON format to be read by <italic toggle="yes">HALFpipe</italic>. If placed in the working directory, ratings will be automatically detected by <italic toggle="yes">HALFpipe</italic> and used to exclude subjects for group‐level statistics. In addition, <italic toggle="yes">HALFpipe</italic> will automatically detect all other JSON files whose names start with <italic toggle="yes">exclude</italic>, to accommodate quality assessment by multiple researchers. In the case of conflicts between ratings, the lower rating will be used.</p>
        <p>
<italic toggle="yes">HALFpipe</italic> will include as much data as possible while excluding all scans rated as “bad.” Ratings of “good” and “uncertain” will be included for group analysis. A “bad” rating for any report image related to structural/anatomical processing will exclude the entire subject. A “bad” rating for any report image related to functional image processing will only exclude the specific functional scan. This means that if a subject has one “bad” scan, its other scans may still be included for group statistics.</p>
        <p>In addition, the mean framewise displacement, percentage of frames with a framewise displacement above a specified threshold, percentage of the independent components that were classified as noise, and mean gray matter tSNR from all subjects is displayed in box plots. Next to the report images, links to the source images are shown so that these can be inspected in more detail by opening them in a preferred image viewer (e.g., <italic toggle="yes">fsleyes</italic>).</p>
        <p>Images can be zoomed by clicking them. For faster operation by advanced users, rating, and navigation are accessible not just via user interface buttons, but also via keyboard shortcuts based on the WASD keys. Pressing the A goes back one image and D goes ahead, whereas W, S, and X rate an image as good, uncertain, or bad, respectively. The web app offers an overview chart that indicates subjects preprocessed successfully and subjects with errors, a chart with quality ratings, and box plots reflecting the sample distributions for motion, noise components, and temporal signal‐to‐noise ratio (tSNR). All three are implemented so that users can hover over chart elements with their cursor to view meta‐information, such as the subject identifier, and click to navigate to the associated report images. The HTML file is built as a frameworkless web app using TypeScript. Source code is available at <ext-link xlink:href="https://github.com/HALFpipe/QualityCheck" ext-link-type="uri">https://github.com/HALFpipe/QualityCheck</ext-link>.</p>
        <p>
<italic toggle="yes">HALFpipe</italic> shows two report images for each subject on structural/anatomical processing and four additional images for each type of functional scan. Detailed explanations may be found in the quality assessment manual at <ext-link xlink:href="https://github.com/HALFpipe/HALFpipe#quality-checks" ext-link-type="uri">https://github.com/HALFpipe/HALFpipe#quality-checks</ext-link>.<list list-type="order" id="hbm25829-list-0003"><list-item id="hbm25829-li-0006"><p>T1w skull stripping shows the bias‐field corrected anatomical image overlaid with a red line that outlines the brain mask. The user must check that no brain regions are missing from the mask, and that portions of the skull or head are not included in the mask.</p></list-item><list-item id="hbm25829-li-0007"><p>T1w spatial normalization shows the anatomical image resampled to standard space overlaid with a brain atlas in standard space. The user needs to check whether the regions of the atlas closely match the resampled image.</p></list-item><list-item id="hbm25829-li-0008"><p>Echo planar imaging (EPI) tSNR shows the temporal signal‐to‐noise ratio of the functional image after preprocessing using <italic toggle="yes">fMRIPrep</italic>. The user must check that signal recovery is distributed uniformly throughout the brain, and exclude scans with asymmetry, distortions, localized signal drop‐out, or striping artifacts.</p></list-item><list-item id="hbm25829-li-0009"><p>EPI Confounds shows the carpet plot (Aquino, Fulcher, Parkes, Sabaroedin, &amp; Fornito, <xref rid="hbm25829-bib-0005" ref-type="bibr">2020</xref>; Power, <xref rid="hbm25829-bib-0060" ref-type="bibr">2017</xref>), generated by <italic toggle="yes">fMRIPrep</italic>. A carpet plot is a two‐dimensional plot of time series within a scan, with time on the <italic toggle="yes">x</italic>‐axis and voxels on the <italic toggle="yes">y</italic>‐axis. Voxels are grouped into cortical gray matter (blue), subcortical gray matter (orange), cerebellum (green), and white matter and cerebrospinal fluid (red). Above the carpet plot are time courses (<italic toggle="yes">x</italic>‐axis) of the magnitude (<italic toggle="yes">y</italic>‐axis) of framewise displacement (FD), global signal (GS), global signal in CSF (GSCSF), global signal in white matter (GSWM), and DVARS, which is the temporal change in root‐mean‐square intensity (D being the temporal derivative of time courses and VARS the root‐mean‐square variance over voxels). The user must look for changes in heatmap/intensity in relation to motion and signal changes above. Abrupt changes in the carpet plot may correspond to motion spikes, whereas extended signal changes may indicate acquisition artifacts caused by defective scanner hardware.</p></list-item><list-item id="hbm25829-li-0010"><p>EPI ICA‐based artifact removal shows the time course of the mean signal extracted from each ICA‐component and its classification as either signal (green) or noise (red). This figure is generated by <italic toggle="yes">fMRIPrep</italic>. For each component, there is a spatial map (left), the time series (top right) and the power spectrum (bottom right). The user must check that components classified as noise do not contain brain networks or temporal patterns that are known to be signal.</p></list-item><list-item id="hbm25829-li-0011"><p>EPI spatial normalization shows the functional image after preprocessing using <italic toggle="yes">fMRIPrep</italic> overlaid with a brain atlas in standard space. As before, the user must check whether the regions of the atlas closely match the resampled image.</p></list-item></list>
</p>
      </sec>
      <sec id="hbm25829-sec-0016">
        <label>2.14</label>
        <title>Feature extraction</title>
        <p>Following preprocessing, <italic toggle="yes">HALFpipe</italic> can extract several <italic toggle="yes">features</italic> that are commonly used in resting‐state and task‐based analysis. These include various ways of examining functional connectivity between brain regions (seed‐based connectivity, network‐template (or dual) regression, atlas‐based connectivity matrices), as well as measures of local activity (ReHo, fALFF). <italic toggle="yes">HALFpipe</italic> allows the user to choose several region‐of‐interest masks (seeds), template networks, and atlases, for which a threshold indicates the minimum overlap the user requires between seeds, template networks, or atlas regions and the subjects' fMRI data. For each feature, the user can change the default settings for spatial smoothing and temporal filtering, and choose the confounds to be removed. The user is offered the option to extract the same feature multiple times, each time varying the preprocessing, confound, and denoising settings to explore the impact of analytical decisions in a <italic toggle="yes">multiverse analysis</italic>. Of note, for selected features, some options are not available. For example, spatial smoothing is disabled for atlas‐based connectivity matrices (Alakörkkö, Saarimäki, Glerean, Saramäki, &amp; Korhonen, <xref rid="hbm25829-bib-0003" ref-type="bibr">2017</xref>), or performed <italic toggle="yes">after</italic> ReHo and fALFF have been calculated (see Table <xref rid="hbm25829-tbl-0003" ref-type="table">3</xref>).</p>
        <p>A brief description of the features is provided in Box <xref rid="hbm25829-fea-0001" ref-type="boxed-text">1</xref>.</p>
      </sec>
      <sec id="hbm25829-sec-0017">
        <label>2.15</label>
        <title>Group‐level statistics</title>
        <p>Group‐level statistics on individual features can be performed with <italic toggle="yes">FSL</italic>'s FLAME algorithm. Subjects who had poor quality data in the interactive quality assessment are excluded. In addition, subjects can be excluded based on movement by selecting the maximum allowed mean framewise displacement (FD) and percentage of outlier frames (i.e., frames with motion higher than the specified FD threshold).</p>
        <p>For group‐level statistics, users can choose to calculate the intercept only (i.e., mean across all subjects) or run flexible factorial models. For the latter, <italic toggle="yes">HALFpipe</italic> prompts the user to specify the path to a covariates file (multiple file formats are supported) containing subject IDs, group membership, and other variables, and to specify whether these are continuous or categorical. Missing values in the covariates file can be handled with either listwise deletion or mean substitution. The user can specify main effects and interactions between variables, while within‐group regressions against a continuous variable (e.g., symptom severity) is also possible.</p>
      </sec>
      <sec id="hbm25829-sec-0018">
        <label>2.16</label>
        <title>Outputs</title>
        <p>After computation finishes, all outputs are accessible in the working directory. The outputs of <italic toggle="yes">fMRIPrep</italic> are stored in <italic toggle="yes">derivatives/fmriprep</italic> folders, similar to when <italic toggle="yes">fMRIPrep</italic> had been run outside of <italic toggle="yes">HALFpipe</italic>. The <italic toggle="yes">derivatives</italic> folder also contains the folder <italic toggle="yes">halfpipe</italic> which contains any preprocessed images and features that were generated. Just like the <italic toggle="yes">fmriprep</italic> folder, the <italic toggle="yes">halfpipe</italic> folder conforms to the BIDS standard for derived datasets (BIDS contributors, <xref rid="hbm25829-bib-0010" ref-type="bibr">2021</xref>). This means that all file names contain structured information such as subject ID <italic toggle="yes">sub‐01</italic> or the name given to the feature <italic toggle="yes">feature‐seedConn</italic> in a standardized way that may be different from the original file naming. Underscores, dashes, and other nonalphanumeric characters are removed from the subject ID, session IDs, and so on. for compliance with BIDS. <italic toggle="yes">HALFpipe</italic>'s standardized output file naming means that additional analysis steps can be automated easily.</p>
        <p>The outputs from group statistics are placed in a similar folder structure that make it easy to share summary statistics for collaborative meta‐analysis projects.</p>
        <boxed-text position="float" content-type="Box" id="hbm25829-fea-0001">
          <label>Box 1</label>
          <caption>
            <title>Overview of HALFpipe features</title>
          </caption>
          <p>
<italic toggle="yes">Task‐based activations</italic> A first‐level general linear model (GLM) is run for event‐related or block designs. GLM regressors describing the stimulus presentations for each of the task conditions are convolved with a double Gamma HRF and the overall model is fit for each voxel in the brain using FSL FILM (Woolrich, Ripley, Brady, &amp; Smith, <xref rid="hbm25829-bib-0078" ref-type="bibr">2001</xref>). Contrasts of interest are tested, which results in a whole‐brain task activation map for comparisons between task conditions.</p>
          <p>
<italic toggle="yes">Seed‐based connectivity</italic> Average BOLD time series are extracted from a seed region of interest (ROI), which is defined by a binary mask image. This time series is used as a regressor in a first‐level GLM, where the model is fit for each voxel in the brain using fsl_glm. This results in a whole‐brain functional connectivity map that represents the connectivity strength between the ROI and each voxel in the brain.</p>
          <p>Network‐template (or dual) regression Subject‐specific representations of connectivity networks (e.g., default mode, salience, task‐positive networks) are generated using dual regression (Beckmann, Mackay, Filippini, &amp; Smith, <xref rid="hbm25829-bib-0008" ref-type="bibr">2009</xref>) with fsl_glm. In a first regression model, the set of network template maps is regressed against the individual fMRI data, which generates time series for each of the template networks. Next, a second regression model is run, regressing the network time series against the individual fMRI data. This generates subject‐specific spatial representations of each of the template networks, which can be considered to represent the voxelwise connectivity strength within each of the networks.</p>
          <p>
<italic toggle="yes">Atlas‐based connectivity matrix</italic> Average time series are extracted from each region of a brain atlas of choice using custom code inspired by Pypes (Savio, Schutte, Graña, &amp; Yakushev, <xref rid="hbm25829-bib-0064" ref-type="bibr">2017</xref>) and Nilearn (Abraham et al., <xref rid="hbm25829-bib-0001" ref-type="bibr">2014</xref>). From these, a pairwise connectivity matrix between atlas regions is calculated using Pearson product‐–moment correlations using Pandas (McKinney, <xref rid="hbm25829-bib-0053" ref-type="bibr">2010</xref>), which represent the pairwise functional connectivity between all pairs of regions included in the atlas.</p>
          <p>
<italic toggle="yes">Regional homogeneity (ReHo)</italic> Local similarity (or synchronization) between the time series of a given voxel and its nearest neighboring voxels is calculated using Kendall'’s coefficient of concordance (Zang, Jiang, Lu, He, &amp; Tian, <xref rid="hbm25829-bib-0079" ref-type="bibr">2004</xref>) using FATCAT's 3dReHo, which is distributed with AFNI (Taylor &amp; Saad, <xref rid="hbm25829-bib-0068" ref-type="bibr">2013</xref>).</p>
          <p>
<italic toggle="yes">Fractional amplitude of low frequency fluctuations (fALFF)</italic> Variance in amplitude of low frequencies in the BOLD signal is calculated, dividing the power in the low frequency range (0.01–0.1 Hz) by the power in the entire frequency range (Zou et al., <xref rid="hbm25829-bib-0080" ref-type="bibr">2008</xref>) with a customized version of the C‐PAC implementation of fALFF.</p>
        </boxed-text>
      </sec>
    </sec>
    <sec sec-type="discussion" id="hbm25829-sec-0020">
      <label>3</label>
      <title>DISCUSSION</title>
      <p>Large samples are essential for recent neuroimaging applications, such as imaging‐genetics association studies, training of complex machine learning models, and even unsupervised learning. This demand has stimulated efforts to pool data from multiple observational studies, which typically incur greater bias than studies designed a priori to address a specific scientific question. Within ENIGMA, we developed <italic toggle="yes">HALFpipe</italic> to support the harmonization of task‐based and resting‐state fMRI data analysis and quality assessment across multiple labs and cohorts. <italic toggle="yes">HALFpipe</italic> bundles all software tools, library functions, and other dependencies by containerizing the requisite components in a Singularity (Kurtzer, Sochat, &amp; Bauer, <xref rid="hbm25829-bib-0049" ref-type="bibr">2017</xref>) and Docker (Docker Inc.) release. Containerization ensures that all software dependencies and the runtime environment are provided. Therefore, containerized software such as <italic toggle="yes">HALFpipe</italic> can run reliably regardless of the computing environment where it is installed, be it a laptop, computational cluster, or cloud computing service (Grüning et al., <xref rid="hbm25829-bib-0037" ref-type="bibr">2018</xref>).</p>
      <p>The design, implementation, and testing of the <italic toggle="yes">HALFpipe</italic> workflow resulted in its 1.0 version release in early 2021. Several thousand resting‐state fMRI datasets from 29 ENIGMA PTSD consortium sites have already been analyzed as part of the first published report to employ <italic toggle="yes">HALFpipe</italic> (Weis, <xref rid="hbm25829-bib-0076" ref-type="bibr">2020</xref>), while analyses of other large multi‐site datasets are currently underway in several ENIGMA working groups, including the ENIGMA task‐based fMRI working group (Veer et al., <xref rid="hbm25829-bib-0072" ref-type="bibr">2019</xref>). Running <italic toggle="yes">HALFpipe</italic> requires approximately 8–20 GB of RAM per computer or cluster node and 6–10 hours to complete on a single processor core. The exact resource usage depends on voxel resolution and the number of volumes in the fMRI data. The number of features the user chooses has a negligible impact on processing time.</p>
      <p>The <italic toggle="yes">HALFpipe</italic> user experience includes an interactive user interface to facilitate rapid analysis prototyping while preserving the ability to script automated analyses of large datasets via configuration files in JSON format with detailed prescriptions of the dataset, analyses steps, and input parameters. Importantly, <italic toggle="yes">HALFpipe</italic> accommodates concurrent harmonized processing of task‐based and resting‐state fMRI data, which facilitates cross‐modal comparisons between the two fMRI modalities (e.g., Kerestes, Chase, Phillips, Ladouceur, &amp; Eickhoff, <xref rid="hbm25829-bib-0048" ref-type="bibr">2017</xref>).</p>
      <p>Our implementation of <italic toggle="yes">HALFpipe</italic> enables users to tackle consortium analyses of multi‐cohort fMRI data with highly uniform application of methods. Specifically, we have established a standardized process and analysis methodology that involves a pre‐specified: (a) ensemble of software tools, (b) software version for each tool, (c) set of user‐defined parameters, (d) sequence of analytic steps, (e) quality assessment process, and (f) criteria for excluding substandard data. Thus, <italic toggle="yes">HALFpipe</italic> promotes the seamless implementation of a standardized process (preprocessing and feature extraction) at each site and/or cohort prior to initiating group level statistics. Such capabilities hold the promise of significantly advancing basic neuroscience, and particularly clinical neuroscience, by supporting the execution of multi‐site multi‐cohort studies of several hundred or several thousand samples—ultimately supporting harmonized cross‐disorder comparisons. While not part of the <italic toggle="yes">HALFpipe</italic> workflow, cross‐site/platform harmonization techniques for neuroimaging have recently experienced a dramatic increase (Fortin et al., <xref rid="hbm25829-bib-0028" ref-type="bibr">2018</xref>; Pezoulas, Exarchos, &amp; Fotiadis, <xref rid="hbm25829-bib-0055" ref-type="bibr">2020</xref>; Wachinger et al., <xref rid="hbm25829-bib-0073" ref-type="bibr">2021</xref>). Much of this methodological innovation has arrived on the heels of earlier developments in cross‐platform harmonization of genetic data (Borisov et al., <xref rid="hbm25829-bib-0011" ref-type="bibr">2019</xref>; Haghverdi, Lun, Morgan, &amp; Marioni, <xref rid="hbm25829-bib-0038" ref-type="bibr">2018</xref>; Johnson, Li, &amp; Rabinovic, <xref rid="hbm25829-bib-0047" ref-type="bibr">2007</xref>; Pontikos et al., <xref rid="hbm25829-bib-0059" ref-type="bibr">2017</xref>). These advances in harmonization of neuroimaging data are expected to manifest synergy with standardized workflows such as <italic toggle="yes">HALFpipe</italic>, as both elements are essential to large‐scale imaging consortium efforts (Thompson, Jahanshad, et al., <xref rid="hbm25829-bib-0070" ref-type="bibr">2020</xref>).</p>
      <p>The implementation of quality metrics for fMRI data has been an incremental process that has moved steadily toward establishing empirically‐informed best practices. Historically, quality criteria have been applied unevenly across research labs. Recent years have witnessed a heightened awareness about the essential role of applying systematic and principled quality metrics to minimize confounds, for example, motion artifacts (Murphy, Birn, &amp; Bandettini, <xref rid="hbm25829-bib-0054" ref-type="bibr">2013</xref>; Power et al., <xref rid="hbm25829-bib-0062" ref-type="bibr">2014</xref>; Power, Barnes, Snyder, Schlaggar, &amp; Petersen, <xref rid="hbm25829-bib-0061" ref-type="bibr">2012</xref>), and widespread fMRI signal deflections (Aquino et al., <xref rid="hbm25829-bib-0005" ref-type="bibr">2020</xref>). Automated quality control methods are being developed and adopted with increasing interest, such as the MRI Quality Control software <italic toggle="yes">MRIQC</italic> (Esteban et al., <xref rid="hbm25829-bib-0021" ref-type="bibr">2017</xref>). <italic toggle="yes">HALFpipe</italic> has adopted parts of the functionality of <italic toggle="yes">MRIQC</italic> with an enhanced user experience that generates quality reports via a web‐browser‐based interface to facilitate rapid viewing, screening, and selection of individual subject data for inclusion or exclusion. The application of uniform quality assessment procedures is particularly important when mega‐analyzing and even meta‐analyzing multi‐site/scanner data, as is performed in ENIGMA. That is, study variables that segregate by site are more likely to lead to confounds without the uniform implementation of quality assessment across sites (e.g., Wachinger et al., <xref rid="hbm25829-bib-0073" ref-type="bibr">2021</xref>). With its harmonized quality procedures, <italic toggle="yes">HALFpipe</italic> aims to minimize such effects.</p>
      <sec id="hbm25829-sec-0021">
        <label>3.1</label>
        <title>Limitations</title>
        <p>Computing platforms that are likely to differ between sites are known to introduce subtle differences in output attributable to operating systems and hardware (Gronenschild et al., <xref rid="hbm25829-bib-0036" ref-type="bibr">2012</xref>). Collecting raw multi‐site data at one central site prior to <italic toggle="yes">HALFpipe</italic> processing ensures that the same computing platform can be used to process all data. While optimal, this is often not practical due to restrictions on data sharing, even when the data is completely de‐identified (i.e., when linking data to protected health or other sensitive information is no longer possible).</p>
        <p>
<italic toggle="yes">HALFpipe</italic> offers harmonization through uniform processing of fMRI data, but other sources of nonuniformity are beyond its scope. Recent advances in cross‐site/platform harmonization may additionally correct for differences in site, scanner hardware, or computation on different processors (Fortin et al., <xref rid="hbm25829-bib-0028" ref-type="bibr">2018</xref>; Pezoulas et al., <xref rid="hbm25829-bib-0055" ref-type="bibr">2020</xref>; Wachinger et al., <xref rid="hbm25829-bib-0073" ref-type="bibr">2021</xref>). Such methods could be applied to extracted <italic toggle="yes">HALFpipe</italic> features, either centralized or through distributed computation using tools such as <italic toggle="yes">COINSTAC</italic> (Plis et al., <xref rid="hbm25829-bib-0056" ref-type="bibr">2016</xref>), to yield results that are potentially more generalizable.</p>
      </sec>
    </sec>
    <sec sec-type="conclusions" id="hbm25829-sec-0022">
      <label>4</label>
      <title>CONCLUSION</title>
      <p>
<italic toggle="yes">HALFpipe</italic> provides a standardized workflow that encompases the essential elements of task‐based and resting‐state fMRI analyses, builds on the progress and contributions of <italic toggle="yes">fMRIPrep</italic> developers, and extends capabilities beyond preprocessing steps with a diverse set of post‐processing functions. <italic toggle="yes">HALFpipe</italic> represents a major step toward addressing the reproducibility crisis in functional neuroimaging by offering a workflow that maintains details of user options, steps performed in analyses, metadata associated with analyses, code transparency, containerized installation, and the ability to recreate the runtime environment, while implementing empirically‐supported best‐practices adopted by the functional neuroimaging community.</p>
    </sec>
  </body>
  <back>
    <ack id="hbm25829-sec-0023">
      <title>ACKNOWLEDGMENTS</title>
      <p>This work has been supported by a Grant from the German Research Foundation to S.E. and H.W. (DFG ER 724/4–1, WA 1539/11–1). P.M.T. received research grant funding from Biogen, Inc., for research unrelated to this manuscript. L.S. received funding from the National Institutes of Health (NIH R01 MH117601 and NHMRC Career Development Fellowship 1140764). R.A.M received funding from National Institutes of Health (NIH R01 MH111671). I.M.V. and H.W. received funding from the European Union's Horizon 2020 research and innovation programme under under Grant Agreement number 777084 (DynaMORE project).</p>
      <p>Open access funding enabled and organized by Projekt DEAL.</p>
    </ack>
    <sec sec-type="data-availability" id="hbm25829-sec-0025">
      <title>DATA AVAILABILITY STATEMENT</title>
      <p>This technical report does not rely on any data. Code and documentation are available at https://github.com/HALFpipe/HALFpipe.</p>
    </sec>
    <ref-list id="hbm25829-bibl-0001" content-type="cited-references">
      <title>REFERENCES</title>
      <ref id="hbm25829-bib-0001">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0001">
<string-name>
<surname>Abraham</surname>, <given-names>A.</given-names>
</string-name>, <string-name>
<surname>Pedregosa</surname>, <given-names>F.</given-names>
</string-name>, <string-name>
<surname>Eickenberg</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>Gervais</surname>, <given-names>P.</given-names>
</string-name>, <string-name>
<surname>Mueller</surname>, <given-names>A.</given-names>
</string-name>, <string-name>
<surname>Kossaifi</surname>, <given-names>J.</given-names>
</string-name>, … <string-name>
<surname>Varoquaux</surname>, <given-names>G.</given-names>
</string-name> (<year>2014</year>). <article-title>Machine learning for neuroimaging with scikit‐learn</article-title>. <source>Frontiers in Neuroinformatics</source>, <volume>8</volume>, <elocation-id>14</elocation-id>. <pub-id pub-id-type="doi">10.3389/fninf.2014.00014</pub-id>
<pub-id pub-id-type="pmid">24600388</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0002">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0002">
<string-name>
<surname>Adhikari</surname>, <given-names>B. M.</given-names>
</string-name>, <string-name>
<surname>Jahanshad</surname>, <given-names>N.</given-names>
</string-name>, <string-name>
<surname>Shukla</surname>, <given-names>D.</given-names>
</string-name>, <string-name>
<surname>Turner</surname>, <given-names>J.</given-names>
</string-name>, <string-name>
<surname>Grotegerd</surname>, <given-names>D.</given-names>
</string-name>, <string-name>
<surname>Dannlowski</surname>, <given-names>U.</given-names>
</string-name>, … <string-name>
<surname>Kochunov</surname>, <given-names>P.</given-names>
</string-name> (<year>2019</year>). <article-title>A resting state fMRI analysis pipeline for pooling inference across diverse cohorts: An ENIGMA rs‐fMRI protocol</article-title>. <source>Brain Imaging and Behavior</source>, <volume>13</volume>(<issue>5</issue>), <fpage>1453</fpage>–<lpage>1467</lpage>. <pub-id pub-id-type="doi">10.1007/s11682-018-9941-x</pub-id>
<pub-id pub-id-type="pmid">30191514</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0003">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0003">
<string-name>
<surname>Alakörkkö</surname>, <given-names>T.</given-names>
</string-name>, <string-name>
<surname>Saarimäki</surname>, <given-names>H.</given-names>
</string-name>, <string-name>
<surname>Glerean</surname>, <given-names>E.</given-names>
</string-name>, <string-name>
<surname>Saramäki</surname>, <given-names>J.</given-names>
</string-name>, &amp; <string-name>
<surname>Korhonen</surname>, <given-names>O.</given-names>
</string-name> (<year>2017</year>). <article-title>Effects of spatial smoothing on functional brain networks</article-title>. <source>European Journal of Neuroscience</source>, <volume>46</volume>(<issue>9</issue>), <fpage>2471</fpage>–<lpage>2480</lpage>. <pub-id pub-id-type="doi">10.1111/ejn.13717</pub-id>
<pub-id pub-id-type="pmid">28922510</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0004">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0004">
<string-name>
<surname>Alfaro‐Almagro</surname>, <given-names>F.</given-names>
</string-name>, <string-name>
<surname>Jenkinson</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>Bangerter</surname>, <given-names>N. K.</given-names>
</string-name>, <string-name>
<surname>Andersson</surname>, <given-names>J. L.</given-names>
</string-name>, <string-name>
<surname>Griffanti</surname>, <given-names>L.</given-names>
</string-name>, <string-name>
<surname>Douaud</surname>, <given-names>G.</given-names>
</string-name>, … <string-name>
<surname>Smith</surname>, <given-names>S. M.</given-names>
</string-name> (<year>2018</year>). <article-title>Image processing and quality control for the first 10,000 brain imaging datasets from UKbiobank</article-title>. <source>NeuroImage</source>, <volume>166</volume>, <fpage>400</fpage>–<lpage>424</lpage>. <pub-id pub-id-type="doi">10.1016/j.neuroimage.2017.10.034</pub-id>
<pub-id pub-id-type="pmid">29079522</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0005">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0005">
<string-name>
<surname>Aquino</surname>, <given-names>K. M.</given-names>
</string-name>, <string-name>
<surname>Fulcher</surname>, <given-names>B. D.</given-names>
</string-name>, <string-name>
<surname>Parkes</surname>, <given-names>L.</given-names>
</string-name>, <string-name>
<surname>Sabaroedin</surname>, <given-names>K.</given-names>
</string-name>, &amp; <string-name>
<surname>Fornito</surname>, <given-names>A.</given-names>
</string-name> (<year>2020</year>). <article-title>Identifying and removing widespread signal deflections from fMRI data: Rethinking the global signal regression problem</article-title>. <source>NeuroImage</source>, <volume>212</volume>, <elocation-id>116614</elocation-id>. <pub-id pub-id-type="doi">10.1016/j.neuroimage.2020.116614</pub-id>
<pub-id pub-id-type="pmid">32084564</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0006">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0006">
<string-name>
<surname>Avants</surname>, <given-names>B. B.</given-names>
</string-name>, <string-name>
<surname>Tustison</surname>, <given-names>N. J.</given-names>
</string-name>, <string-name>
<surname>Song</surname>, <given-names>G.</given-names>
</string-name>, <string-name>
<surname>Cook</surname>, <given-names>P. A.</given-names>
</string-name>, <string-name>
<surname>Klein</surname>, <given-names>A.</given-names>
</string-name>, &amp; <string-name>
<surname>Gee</surname>, <given-names>J. C.</given-names>
</string-name> (<year>2011</year>). <article-title>A reproducible evaluation of ANTs similarity metric performance in brain image registration</article-title>. <source>NeuroImage</source>, <volume>54</volume>(<issue>3</issue>), <fpage>2033</fpage>–<lpage>2044</lpage>. <pub-id pub-id-type="doi">10.1016/j.neuroimage.2010.09.025</pub-id>
<pub-id pub-id-type="pmid">20851191</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0007">
        <mixed-citation publication-type="book" id="hbm25829-cit-0007">
<string-name>
<surname>Beck</surname>, <given-names>K.</given-names>
</string-name> (<year>2000</year>). <source>Extreme programming explained: Embrace change</source>. <publisher-loc>Reading, MA</publisher-loc>: <publisher-name>Addison Wesley Longman, Inc.</publisher-name>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0008">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0008">
<string-name>
<surname>Beckmann</surname>, <given-names>C.</given-names>
</string-name>, <string-name>
<surname>Mackay</surname>, <given-names>C.</given-names>
</string-name>, <string-name>
<surname>Filippini</surname>, <given-names>N.</given-names>
</string-name>, &amp; <string-name>
<surname>Smith</surname>, <given-names>S.</given-names>
</string-name> (<year>2009</year>). <article-title>Group comparison of resting‐state FMRI data using multi‐subject ICA and dual regression</article-title>. <source>NeuroImage</source>, <volume>47</volume>, <fpage>S148</fpage>. <pub-id pub-id-type="doi">10.1016/s1053-8119(09)71511-3</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0009">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0009">
<string-name>
<surname>Behzadi</surname>, <given-names>Y.</given-names>
</string-name>, <string-name>
<surname>Restom</surname>, <given-names>K.</given-names>
</string-name>, <string-name>
<surname>Liau</surname>, <given-names>J.</given-names>
</string-name>, &amp; <string-name>
<surname>Liu</surname>, <given-names>T. T.</given-names>
</string-name> (<year>2007</year>). <article-title>A component based noise correction method (CompCor) for BOLD and perfusion based fMRI</article-title>. <source>NeuroImage</source>, <volume>37</volume>(<issue>1</issue>), <fpage>90</fpage>–<lpage>101</lpage>. <pub-id pub-id-type="doi">10.1016/j.neuroimage.2007.04.042</pub-id>
<pub-id pub-id-type="pmid">17560126</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0010">
        <mixed-citation publication-type="miscellaneous" id="hbm25829-cit-0010">
<collab collab-type="authors">BIDS Contributors</collab>
. (<year>2021</year>). <article-title>The brain imaging data structure (BIDS) specification</article-title>. doi: <pub-id pub-id-type="doi">10.5281/zenodo.4710751</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0011">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0011">
<string-name>
<surname>Borisov</surname>, <given-names>N.</given-names>
</string-name>, <string-name>
<surname>Shabalina</surname>, <given-names>I.</given-names>
</string-name>, <string-name>
<surname>Tkachev</surname>, <given-names>V.</given-names>
</string-name>, <string-name>
<surname>Sorokin</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>Garazha</surname>, <given-names>A.</given-names>
</string-name>, <string-name>
<surname>Pulin</surname>, <given-names>A.</given-names>
</string-name>, … <string-name>
<surname>Buzdin</surname>, <given-names>A.</given-names>
</string-name> (<year>2019</year>). <article-title>Shambhala: A platform‐agnostic data harmonizer for gene expression data</article-title>. <source>BMC Bioinformatics</source>, <volume>20</volume>(<issue>1</issue>), <fpage>66</fpage>. <pub-id pub-id-type="doi">10.1186/s12859-019-2641-8</pub-id>
<pub-id pub-id-type="pmid">30727942</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0012">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0012">
<string-name>
<surname>Botvinik‐Nezer</surname>, <given-names>R.</given-names>
</string-name>, <string-name>
<surname>Holzmeister</surname>, <given-names>F.</given-names>
</string-name>, <string-name>
<surname>Camerer</surname>, <given-names>C. F.</given-names>
</string-name>, <string-name>
<surname>Dreber</surname>, <given-names>A.</given-names>
</string-name>, <string-name>
<surname>Huber</surname>, <given-names>J.</given-names>
</string-name>, <string-name>
<surname>Johannesson</surname>, <given-names>M.</given-names>
</string-name>, … <string-name>
<surname>Schonberg</surname>, <given-names>T.</given-names>
</string-name> (<year>2020</year>). <article-title>Variability in the analysis of a single neuroimaging dataset by many teams</article-title>. <source>Nature</source>, <volume>582</volume>(<issue>7810</issue>), <fpage>84</fpage>–<lpage>88</lpage>. <pub-id pub-id-type="doi">10.1038/s41586-020-2314-9</pub-id>
<pub-id pub-id-type="pmid">32483374</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0082">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0082">
<string-name>
<surname>Ciric</surname>, <given-names>R.</given-names>
</string-name>, <string-name>
<surname>Rosen</surname>, <given-names>A. F. G.</given-names>
</string-name>, <string-name>
<surname>Erus</surname>, <given-names>G.</given-names>
</string-name>, <string-name>
<surname>Cieslak</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>Adebimpe</surname>, <given-names>A.</given-names>
</string-name>, <string-name>
<surname>Cook</surname>, <given-names>P. A.</given-names>
</string-name>, … <string-name>
<surname>Satterthwaite</surname>, <given-names>T. D.</given-names>
</string-name> (<year>2018</year>). <article-title>Mitigating head motion artifact in functional connectivity MRI</article-title>. <source>Nature Protocols</source>, <volume>13</volume>(<issue>12</issue>), <fpage>2801</fpage>–<lpage>2826</lpage>. <pub-id pub-id-type="doi">10.1038/s41596-018-0065-y</pub-id>
<pub-id pub-id-type="pmid">30446748</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0013">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0013">
<string-name>
<surname>Ciric</surname>, <given-names>R.</given-names>
</string-name>, <string-name>
<surname>Lorenz</surname>, <given-names>R.</given-names>
</string-name>, <string-name>
<surname>Thompson</surname>, <given-names>W. H.</given-names>
</string-name>, <string-name>
<surname>Goncalves</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>MacNicol</surname>, <given-names>E.</given-names>
</string-name>, <string-name>
<surname>Markiewicz</surname>, <given-names>C. J.</given-names>
</string-name>, … <string-name>
<surname>Esteban</surname>, <given-names>O.</given-names>
</string-name> (<year>2021</year>). <article-title>TemplateFlow: A community archive of imaging templates and atlases for improved consistency in neuroimaging</article-title>. <source>bioRxiv</source>, <volume>430678</volume>. <pub-id pub-id-type="doi">10.1101/2021.02.10.430678</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0014">
        <mixed-citation publication-type="miscellaneous" id="hbm25829-cit-0014">
<string-name>
<surname>Coghlan</surname>, <given-names>N.</given-names>
</string-name>, &amp; <string-name>
<surname>Stufft</surname>, <given-names>D.</given-names>
</string-name> (<year>2013</year>). <article-title>
<italic toggle="yes">PEP 440 ‐ version identification and dependency specification</italic> [Python.org]</article-title>. Retrieved from <ext-link xlink:href="https://www.python.org/dev/peps/pep-0440/" ext-link-type="uri">https://www.python.org/dev/peps/pep-0440/</ext-link>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0015">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0015">
<string-name>
<surname>Cox</surname>, <given-names>R. W.</given-names>
</string-name> (<year>1996</year>). <article-title>AFNI: Software for analysis and visualization of functional magnetic resonance Neuroimages</article-title>. <source>Computers and Biomedical Research</source>, <volume>29</volume>(<issue>3</issue>), <fpage>162</fpage>–<lpage>173</lpage>. <pub-id pub-id-type="doi">10.1006/cbmr.1996.0014</pub-id>
<pub-id pub-id-type="pmid">8812068</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0016">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0016">
<string-name>
<surname>Cox</surname>, <given-names>R. W.</given-names>
</string-name>, &amp; <string-name>
<surname>Hyde</surname>, <given-names>J. S.</given-names>
</string-name> (<year>1997</year>). <article-title>Software tools for analysis and visualization of fMRI data</article-title>. <source>NMR in Biomedicine</source>, <volume>10</volume>(<issue>4–5</issue>), <fpage>171</fpage>–<lpage>178</lpage>. <pub-id pub-id-type="doi">10.1002/(sici)1099-1492(199706/08)10:4/5&lt;171::aid-nbm453&gt;3.0.co;2-l</pub-id>
<pub-id pub-id-type="pmid">9430344</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0017">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0017">
<string-name>
<surname>Craddock</surname>, <given-names>C.</given-names>
</string-name>, <string-name>
<surname>Sikka</surname>, <given-names>S.</given-names>
</string-name>, <string-name>
<surname>Cheung</surname>, <given-names>C.</given-names>
</string-name>, <string-name>
<surname>Khanuja</surname>, <given-names>R.</given-names>
</string-name>, <string-name>
<surname>Ghosh</surname>, <given-names>S. S.</given-names>
</string-name>, <string-name>
<surname>Yan</surname>, <given-names>C.</given-names>
</string-name>, … <string-name>
<surname>Milham</surname>, <given-names>M.</given-names>
</string-name> (<year>2013</year>). <article-title>Towards automated analysis of Connectomes: The configurable pipeline for the analysis of Connectomes (C‐PAC)</article-title>. <source>Frontiers in Neuroinformatics</source>, <volume>7</volume>. <pub-id pub-id-type="doi">10.3389/conf.fninf.2013.09.00042</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0018">
        <mixed-citation publication-type="miscellaneous" id="hbm25829-cit-0018">
<string-name>
<surname>Das</surname>, <given-names>R</given-names>
</string-name>. (<year>2018</year>). <article-title>Programming In Academia Vs Industry</article-title>. Retrieved from <ext-link xlink:href="https://medium.com/@rdasxy/programming-in-academia-vs-industry-5fb52852ea39" ext-link-type="uri">https://medium.com/@rdasxy/programming-in-academia-vs-industry-5fb52852ea39</ext-link>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0019">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0019">
<string-name>
<surname>Dijkstra</surname>, <given-names>E. W.</given-names>
</string-name>, <string-name>
<surname>Lamport</surname>, <given-names>L.</given-names>
</string-name>, <string-name>
<surname>Martin</surname>, <given-names>A. J.</given-names>
</string-name>, <string-name>
<surname>Scholten</surname>, <given-names>C. S.</given-names>
</string-name>, &amp; <string-name>
<surname>Steffens</surname>, <given-names>E. F. M.</given-names>
</string-name> (<year>1978</year>). <article-title>On‐the‐fly garbage collection: An exercise in cooperation</article-title>. <source>Communications of the ACM</source>, <volume>21</volume>(<issue>11</issue>), <fpage>966</fpage>–<lpage>975</lpage>. <pub-id pub-id-type="doi">10.1145/359642.359655</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0020">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0020">
<string-name>
<surname>Eklund</surname>, <given-names>A.</given-names>
</string-name>, <string-name>
<surname>Nichols</surname>, <given-names>T. E.</given-names>
</string-name>, &amp; <string-name>
<surname>Knutsson</surname>, <given-names>H.</given-names>
</string-name> (<year>2016</year>). <article-title>Cluster failure: Why fMRI inferences for spatial extent have inflated false‐positive rates</article-title>. <source>Proceedings of the National Academy of Sciences</source>, <volume>113</volume>(<issue>28</issue>), <fpage>7900</fpage>–<lpage>7905</lpage>. <pub-id pub-id-type="doi">10.1073/pnas.1602413113</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0021">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0021">
<string-name>
<surname>Esteban</surname>, <given-names>O.</given-names>
</string-name>, <string-name>
<surname>Birman</surname>, <given-names>D.</given-names>
</string-name>, <string-name>
<surname>Schaer</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>Koyejo</surname>, <given-names>O. O.</given-names>
</string-name>, <string-name>
<surname>Poldrack</surname>, <given-names>R. A.</given-names>
</string-name>, &amp; <string-name>
<surname>Gorgolewski</surname>, <given-names>K. J.</given-names>
</string-name> (<year>2017</year>). <article-title>MRIQC: Advancing the automatic prediction of image quality in MRI from unseen sites</article-title>. <source>PLoS One</source>, <volume>12</volume>(<issue>9</issue>), <elocation-id>e0184661</elocation-id>. <pub-id pub-id-type="doi">10.1371/journal.pone.0184661</pub-id>
<pub-id pub-id-type="pmid">28945803</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0022">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0022">
<string-name>
<surname>Esteban</surname>, <given-names>O.</given-names>
</string-name>, <string-name>
<surname>Blair</surname>, <given-names>R. W.</given-names>
</string-name>, <string-name>
<surname>Nielson</surname>, <given-names>D. M.</given-names>
</string-name>, <string-name>
<surname>Varada</surname>, <given-names>J. C.</given-names>
</string-name>, <string-name>
<surname>Marrett</surname>, <given-names>S.</given-names>
</string-name>, <string-name>
<surname>Thomas</surname>, <given-names>A. G.</given-names>
</string-name>, … <string-name>
<surname>Gorgolewski</surname>, <given-names>K. J.</given-names>
</string-name> (<year>2019</year>). <article-title>Crowdsourced MRI quality metrics and expert quality annotations for training of humans and machines</article-title>. <source>Scientific Data</source>, <volume>6</volume>(<issue>1</issue>), <fpage>30</fpage>. <pub-id pub-id-type="doi">10.1038/s41597-019-0035-4</pub-id>
<pub-id pub-id-type="pmid">30975998</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0085">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0085">
<string-name>
<surname>Esteban</surname>, <given-names>O.</given-names>
</string-name>, <string-name>
<surname>Ciric</surname>, <given-names>R.</given-names>
</string-name>, <string-name>
<surname>Finc</surname>, <given-names>K.</given-names>
</string-name>, <string-name>
<surname>Blair</surname>, <given-names>R. W.</given-names>
</string-name>, <string-name>
<surname>Markiewicz</surname>, <given-names>C. J.</given-names>
</string-name>, <string-name>
<surname>Moodie</surname>, <given-names>C. A.</given-names>
</string-name>, … <string-name>
<surname>Gorgolewski</surname>, <given-names>K. J.</given-names>
</string-name> (<year>2020</year>). <article-title>Analysis of task‐based functional MRI data preprocessed with fMRIPrep</article-title>. <source>Nature Protocols</source>, <volume>15</volume>(<issue>7</issue>), <fpage>2186</fpage>–<lpage>2202</lpage>. <pub-id pub-id-type="doi">10.1038/s41596-020-0327-3</pub-id>
<pub-id pub-id-type="pmid">32514178</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0023">
        <mixed-citation publication-type="book" id="hbm25829-cit-0023">
<string-name>
<surname>Esteban</surname>, <given-names>O.</given-names>
</string-name>, <string-name>
<surname>Markiewicz</surname>, <given-names>C. J.</given-names>
</string-name>, <string-name>
<surname>Blair</surname>, <given-names>R.</given-names>
</string-name>, <string-name>
<surname>Poldrack</surname>, <given-names>R. A.</given-names>
</string-name>, &amp; <string-name>
<surname>Gorgolewski</surname>, <given-names>K. J.</given-names>
</string-name> (<year>2021</year>). <source>sMRIPrep: Structural MRI PREProcessing workflows</source>. <pub-id pub-id-type="doi">10.5281/zenodo.4593442</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0024">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0024">
<string-name>
<surname>Esteban</surname>, <given-names>O.</given-names>
</string-name>, <string-name>
<surname>Markiewicz</surname>, <given-names>C. J.</given-names>
</string-name>, <string-name>
<surname>Blair</surname>, <given-names>R. W.</given-names>
</string-name>, <string-name>
<surname>Moodie</surname>, <given-names>C. A.</given-names>
</string-name>, <string-name>
<surname>Isik</surname>, <given-names>A. I.</given-names>
</string-name>, <string-name>
<surname>Erramuzpe</surname>, <given-names>A.</given-names>
</string-name>, … <string-name>
<surname>Gorgolewski</surname>, <given-names>K. J.</given-names>
</string-name> (<year>2019</year>). <article-title>fMRIPrep: A robust preprocessing pipeline for functional MRI</article-title>. <source>Nature Methods</source>, <volume>16</volume>(<issue>1</issue>), <fpage>111</fpage>–<lpage>116</lpage>. <pub-id pub-id-type="doi">10.1038/s41592-018-0235-4</pub-id>
<pub-id pub-id-type="pmid">30532080</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0025">
        <mixed-citation publication-type="miscellaneous" id="hbm25829-cit-0025">
<string-name>
<surname>Esteban</surname>, <given-names>O.</given-names>
</string-name>, <string-name>
<surname>Markiewicz</surname>, <given-names>C. J.</given-names>
</string-name>, <string-name>
<surname>Blair</surname>, <given-names>R. W.</given-names>
</string-name>, <string-name>
<surname>Poldrack</surname>, <given-names>R. A.</given-names>
</string-name>, &amp; <string-name>
<surname>Gorgolewski</surname>, <given-names>K. J.</given-names>
</string-name> (<year>2020</year>). <article-title>
<italic toggle="yes">SDCflows: Susceptibility distortion correction workFLOWS</italic>. Zenodo</article-title>. doi:<pub-id pub-id-type="doi">10.5281/zenodo.4025963</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0026">
        <mixed-citation publication-type="miscellaneous" id="hbm25829-cit-0026">
<string-name>
<surname>Esteban</surname>, <given-names>O.</given-names>
</string-name>, <string-name>
<surname>Markiewicz</surname>, <given-names>C. J.</given-names>
</string-name>, <string-name>
<surname>Goncalves</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>Blair</surname>, <given-names>R.</given-names>
</string-name>, <string-name>
<surname>Berleant</surname>, <given-names>S. L.</given-names>
</string-name>, <string-name>
<surname>Poldrack</surname>, <given-names>R. A.</given-names>
</string-name>, &amp; <string-name>
<surname>Gorgolewski</surname>, <given-names>K. J.</given-names>
</string-name> (<year>2021</year>). <article-title>
<italic toggle="yes">NIWorkflows: NeuroImaging workflows</italic>. Zenodo</article-title>. doi:<pub-id pub-id-type="doi">10.5281/zenodo.5544246</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0027">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0027">
<string-name>
<surname>Fischl</surname>, <given-names>B.</given-names>
</string-name>, &amp; <string-name>
<surname>Dale</surname>, <given-names>A. M.</given-names>
</string-name> (<year>2000</year>). <article-title>Measuring the thickness of the human cerebral cortex from magnetic resonance images</article-title>. <source>Proceedings of the National Academy of Sciences</source>, <volume>97</volume>(<issue>20</issue>), <fpage>11050</fpage>–<lpage>11055</lpage>. <pub-id pub-id-type="doi">10.1073/pnas.200033797</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0028">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0028">
<string-name>
<surname>Fortin</surname>, <given-names>J.‐P.</given-names>
</string-name>, <string-name>
<surname>Cullen</surname>, <given-names>N.</given-names>
</string-name>, <string-name>
<surname>Sheline</surname>, <given-names>Y. I.</given-names>
</string-name>, <string-name>
<surname>Taylor</surname>, <given-names>W. D.</given-names>
</string-name>, <string-name>
<surname>Aselcioglu</surname>, <given-names>I.</given-names>
</string-name>, <string-name>
<surname>Cook</surname>, <given-names>P. A.</given-names>
</string-name>, … <string-name>
<surname>Shinohara</surname>, <given-names>R. T.</given-names>
</string-name> (<year>2018</year>). <article-title>Harmonization of cortical thickness measurements across scanners and sites</article-title>. <source>NeuroImage</source>, <volume>167</volume>, <fpage>104</fpage>–<lpage>120</lpage>. <pub-id pub-id-type="doi">10.1016/j.neuroimage.2017.11.024</pub-id>
<pub-id pub-id-type="pmid">29155184</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0029">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0029">
<string-name>
<surname>Friedman</surname>, <given-names>L.</given-names>
</string-name>, <string-name>
<surname>Glover</surname>, <given-names>G. H.</given-names>
</string-name>, <string-name>
<surname>Krenz</surname>, <given-names>D.</given-names>
</string-name>, &amp; <string-name>
<surname>Magnotta</surname>, <given-names>V.</given-names>
</string-name> (<year>2006</year>). <article-title>Reducing inter‐scanner variability of activation in a multicenter fMRI study: Role of smoothness equalization</article-title>. <source>NeuroImage</source>, <volume>32</volume>(<issue>4</issue>), <fpage>1656</fpage>–<lpage>1668</lpage>. <pub-id pub-id-type="doi">10.1016/j.neuroimage.2006.03.062</pub-id>
<pub-id pub-id-type="pmid">16875843</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0030">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0030">
<string-name>
<surname>Gavrilescu</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>Shaw</surname>, <given-names>M. E.</given-names>
</string-name>, <string-name>
<surname>Stuart</surname>, <given-names>G. W.</given-names>
</string-name>, <string-name>
<surname>Eckersley</surname>, <given-names>P.</given-names>
</string-name>, <string-name>
<surname>Svalbe</surname>, <given-names>I. D.</given-names>
</string-name>, &amp; <string-name>
<surname>Egan</surname>, <given-names>G. F.</given-names>
</string-name> (<year>2002</year>). <article-title>Simulation of the effects of global normalization procedures in functional MRI</article-title>. <source>NeuroImage</source>, <volume>17</volume>(<issue>2</issue>), <fpage>532</fpage>–<lpage>542</lpage>. <pub-id pub-id-type="doi">10.1006/nimg.2002.1226</pub-id>
<pub-id pub-id-type="pmid">12377132</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0031">
        <mixed-citation publication-type="miscellaneous" id="hbm25829-cit-0031">
<string-name>
<surname>Giavasis</surname>, <given-names>S.</given-names>
</string-name>, <string-name>
<surname>Pellman</surname>, <given-names>J.</given-names>
</string-name>, <string-name>
<surname>Clucas</surname>, <given-names>J.</given-names>
</string-name>, &amp; <string-name>
<surname>Lurie</surname>, <given-names>D.</given-names>
</string-name> (<year>2020</year>). <article-title>Setting up a data configuration File (participant/subject list)</article-title>. <ext-link xlink:href="https://fcp-indi.github.io/docs/latest/user/subject/_list/_config" ext-link-type="uri">https://fcp-indi.github.io/docs/latest/user/subject%5C_list%5C_config</ext-link>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0032">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0032">
<string-name>
<surname>Glasser</surname>, <given-names>M. F.</given-names>
</string-name>, <string-name>
<surname>Sotiropoulos</surname>, <given-names>S. N.</given-names>
</string-name>, <string-name>
<surname>Wilson</surname>, <given-names>J. A.</given-names>
</string-name>, <string-name>
<surname>Coalson</surname>, <given-names>T. S.</given-names>
</string-name>, <string-name>
<surname>Fischl</surname>, <given-names>B.</given-names>
</string-name>, <string-name>
<surname>Andersson</surname>, <given-names>J. L.</given-names>
</string-name>, … <string-name>
<surname>Jenkinson</surname>, <given-names>M.</given-names>
</string-name> (<year>2013</year>). <article-title>The minimal preprocessing pipelines for the human connectome project</article-title>. <source>NeuroImage</source>, <volume>80</volume>, <fpage>105</fpage>–<lpage>124</lpage>. <pub-id pub-id-type="doi">10.1016/j.neuroimage.2013.04.127</pub-id>
<pub-id pub-id-type="pmid">23668970</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0033">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0033">
<string-name>
<surname>Goncalves</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>Markiewicz</surname>, <given-names>C. J.</given-names>
</string-name>, <string-name>
<surname>Moia</surname>, <given-names>S.</given-names>
</string-name>, <string-name>
<surname>Ghosh</surname>, <given-names>S. S.</given-names>
</string-name>, <string-name>
<surname>Poldrack</surname>, <given-names>R. A.</given-names>
</string-name>, &amp; <string-name>
<surname>Esteban</surname>, <given-names>O.</given-names>
</string-name> (<year>2021</year>). <article-title>NiTransforms: A python tool to read, represent, manipulate, and apply n‐dimensional spatial transforms</article-title>. <source>Journal of Open Source Software</source>, <volume>6</volume>(<issue>65</issue>), <elocation-id>3459</elocation-id>. <pub-id pub-id-type="doi">10.21105/joss.03459</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0034">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0034">
<string-name>
<surname>Gorgolewski</surname>, <given-names>K. J.</given-names>
</string-name>, <string-name>
<surname>Auer</surname>, <given-names>T.</given-names>
</string-name>, <string-name>
<surname>Calhoun</surname>, <given-names>V. D.</given-names>
</string-name>, <string-name>
<surname>Craddock</surname>, <given-names>R. C.</given-names>
</string-name>, <string-name>
<surname>Das</surname>, <given-names>S.</given-names>
</string-name>, <string-name>
<surname>Duff</surname>, <given-names>E. P.</given-names>
</string-name>, … <string-name>
<surname>Poldrack</surname>, <given-names>R. A.</given-names>
</string-name> (<year>2016</year>). <article-title>The brain imaging data structure, a format for organizing and describing outputs of neuroimaging experiments</article-title>. <source>Scientific Data</source>, <volume>3</volume>(<issue>1</issue>), <elocation-id>160044</elocation-id>. <pub-id pub-id-type="doi">10.1038/sdata.2016.44</pub-id>
<pub-id pub-id-type="pmid">27326542</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0035">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0035">
<string-name>
<surname>Gorgolewski</surname>, <given-names>K. J.</given-names>
</string-name>, <string-name>
<surname>Burns</surname>, <given-names>C. D.</given-names>
</string-name>, <string-name>
<surname>Madison</surname>, <given-names>C.</given-names>
</string-name>, <string-name>
<surname>Clark</surname>, <given-names>D.</given-names>
</string-name>, <string-name>
<surname>Halchenko</surname>, <given-names>Y. O.</given-names>
</string-name>, <string-name>
<surname>Waskom</surname>, <given-names>M. L.</given-names>
</string-name>, &amp; <string-name>
<surname>Ghosh</surname>, <given-names>S. S.</given-names>
</string-name> (<year>2011</year>). <article-title>Nipype: A flexible, lightweight and extensible neuroimaging data processing framework in python</article-title>. <source>Frontiers in Neuroinformatics</source>, <volume>5</volume>, <elocation-id>13</elocation-id>. <pub-id pub-id-type="doi">10.3389/fninf.2011.00013</pub-id>
<pub-id pub-id-type="pmid">21897815</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0036">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0036">
<string-name>
<surname>Gronenschild</surname>, <given-names>E. H. B. M.</given-names>
</string-name>, <string-name>
<surname>Habets</surname>, <given-names>P.</given-names>
</string-name>, <string-name>
<surname>Jacobs</surname>, <given-names>H. I. L.</given-names>
</string-name>, <string-name>
<surname>Mengelers</surname>, <given-names>R.</given-names>
</string-name>, <string-name>
<surname>Rozendaal</surname>, <given-names>N.</given-names>
</string-name>, <string-name>
<surname>van Os</surname>, <given-names>J.</given-names>
</string-name>, &amp; <string-name>
<surname>Marcelis</surname>, <given-names>M.</given-names>
</string-name> (<year>2012</year>). <article-title>The effects of FreeSurfer version, workstation type, and Macintosh operating system version on anatomical volume and cortical thickness measurements</article-title>. <source>PLoS One</source>, <volume>7</volume>(<issue>6</issue>), <elocation-id>e38234</elocation-id>. <pub-id pub-id-type="doi">10.1371/journal.pone.0038234</pub-id>
<pub-id pub-id-type="pmid">22675527</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0037">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0037">
<string-name>
<surname>Grüning</surname>, <given-names>B.</given-names>
</string-name>, <string-name>
<surname>Chilton</surname>, <given-names>J.</given-names>
</string-name>, <string-name>
<surname>Köster</surname>, <given-names>J.</given-names>
</string-name>, <string-name>
<surname>Dale</surname>, <given-names>R.</given-names>
</string-name>, <string-name>
<surname>Soranzo</surname>, <given-names>N.</given-names>
</string-name>, <string-name>
<surname>van den Beek</surname>, <given-names>M.</given-names>
</string-name>, … <string-name>
<surname>Taylor</surname>, <given-names>J.</given-names>
</string-name> (<year>2018</year>). <article-title>Practical computational reproducibility in the life sciences</article-title>. <source>Cell Systems</source>, <volume>6</volume>(<issue>6</issue>), <fpage>631</fpage>–<lpage>635</lpage>. <pub-id pub-id-type="doi">10.1016/j.cels.2018.03.014</pub-id>
<pub-id pub-id-type="pmid">29953862</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0038">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0038">
<string-name>
<surname>Haghverdi</surname>, <given-names>L.</given-names>
</string-name>, <string-name>
<surname>Lun</surname>, <given-names>A. T. L.</given-names>
</string-name>, <string-name>
<surname>Morgan</surname>, <given-names>M. D.</given-names>
</string-name>, &amp; <string-name>
<surname>Marioni</surname>, <given-names>J. C.</given-names>
</string-name> (<year>2018</year>). <article-title>Batch effects in single‐cell RNA‐sequencing data are corrected by matching mutual nearest neighbors</article-title>. <source>Nature Biotechnology</source>, <volume>36</volume>(<issue>5</issue>), <fpage>421</fpage>–<lpage>427</lpage>. <pub-id pub-id-type="doi">10.1038/nbt.4091</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0039">
        <mixed-citation publication-type="miscellaneous" id="hbm25829-cit-0039">
<string-name>
<surname>Halchenko</surname>, <given-names>Y.</given-names>
</string-name>, <string-name>
<surname>Goncalves</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>Visconti di Oleggio Castello</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>Ghosh</surname>, <given-names>S.</given-names>
</string-name>, <string-name>
<surname>Hanke</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>Brett</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>Salo</surname>, <given-names>T.</given-names>
</string-name>, <string-name>
<surname>Gorgolewski</surname>, <given-names>K. J.</given-names>
</string-name>, <string-name>
<surname>Stadler</surname>, <given-names>J.</given-names>
</string-name>, <string-name>
<surname>Lee John</surname>, <given-names>J.</given-names>
</string-name>, <string-name>
<surname>Lurie</surname>, <given-names>D.</given-names>
</string-name>, <string-name>
<surname>Pellman</surname>, <given-names>J.</given-names>
</string-name>, <string-name>
<surname>Poldrack</surname>, <given-names>B.</given-names>
</string-name>, <string-name>
<surname>Schiffler</surname>, <given-names>B.</given-names>
</string-name>, <string-name>
<surname>Szczepanik</surname>, <given-names>M.</given-names>
</string-name>, &amp; <string-name>
<surname>Carlin</surname>, <given-names>J.</given-names>
</string-name> (<year>2018</year>). <article-title>nipy/heudiconv: Heudiconv v0.5.1</article-title>. <pub-id pub-id-type="doi">10.5281/zenodo.1306159</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0040">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0040">
<string-name>
<surname>Hallquist</surname>, <given-names>M. N.</given-names>
</string-name>, <string-name>
<surname>Hwang</surname>, <given-names>K.</given-names>
</string-name>, &amp; <string-name>
<surname>Luna</surname>, <given-names>B.</given-names>
</string-name> (<year>2013</year>). <article-title>The nuisance of nuisance regression: Spectral misspecification in a common approach to resting‐state fMRI preprocessing reintroduces noise and obscures functional connectivity</article-title>. <source>NeuroImage</source>, <volume>82</volume>, <fpage>208</fpage>–<lpage>225</lpage>. <pub-id pub-id-type="doi">10.1016/j.neuroimage.2013.05.116</pub-id>
<pub-id pub-id-type="pmid">23747457</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0041">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0041">
<string-name>
<surname>Harris</surname>, <given-names>C. R.</given-names>
</string-name>, <string-name>
<surname>Millman</surname>, <given-names>K. J.</given-names>
</string-name>, <string-name>
<surname>van der Walt</surname>, <given-names>S. J.</given-names>
</string-name>, <string-name>
<surname>Gommers</surname>, <given-names>R.</given-names>
</string-name>, <string-name>
<surname>Virtanen</surname>, <given-names>P.</given-names>
</string-name>, <string-name>
<surname>Cournapeau</surname>, <given-names>D.</given-names>
</string-name>, … <string-name>
<surname>Oliphant</surname>, <given-names>T. E.</given-names>
</string-name> (<year>2020</year>). <article-title>Array programming with NumPy</article-title>. <source>Nature</source>, <volume>585</volume>(<issue>7825</issue>), <fpage>357</fpage>–<lpage>362</lpage>. <pub-id pub-id-type="doi">10.1038/s41586-020-2649-2</pub-id>
<pub-id pub-id-type="pmid">32939066</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0042">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0042">
<string-name>
<surname>Hoogman</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>van Rooij</surname>, <given-names>D.</given-names>
</string-name>, <string-name>
<surname>Klein</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>Boedhoe</surname>, <given-names>P.</given-names>
</string-name>, <string-name>
<surname>Ilioska</surname>, <given-names>I.</given-names>
</string-name>, <string-name>
<surname>Li</surname>, <given-names>T.</given-names>
</string-name>, … <string-name>
<surname>Franke</surname>, <given-names>B.</given-names>
</string-name> (<year>2022</year>). <article-title>Consortium neuroscience of attention deficit/hyperactivity disorder and autism spectrum disorder: The ENIGMA adventure</article-title>. <source>Human Brain Mapping.</source>, <volume>43</volume>, <fpage>37</fpage>–<lpage>55</lpage>. <pub-id pub-id-type="doi">10.1002/hbm.25029</pub-id>
<pub-id pub-id-type="pmid">32420680</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0043">
        <mixed-citation publication-type="miscellaneous" id="hbm25829-cit-0043">
<string-name>
<surname>Horn</surname>, <given-names>A.</given-names>
</string-name> (<year>2016</year>). MNI T1 6thGen NLIN to MNI 2009b NLIN ANTs transform. doi: <pub-id pub-id-type="doi">10.6084/m9.figshare.3502238.v2</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0044">
        <mixed-citation publication-type="book" id="hbm25829-cit-0044">
<string-name>
<surname>Jarecka</surname>, <given-names>D.</given-names>
</string-name>, <string-name>
<surname>Goncalves</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>Markiewicz</surname>, <given-names>C. J.</given-names>
</string-name>, <string-name>
<surname>Esteban</surname>, <given-names>O.</given-names>
</string-name>, <string-name>
<surname>Lo</surname>, <given-names>N.</given-names>
</string-name>, <string-name>
<surname>Kaczmarzyk</surname>, <given-names>J.</given-names>
</string-name>, &amp; <string-name>
<surname>Ghosh</surname>, <given-names>S.</given-names>
</string-name> (<year>2020</year>). <part-title>Pydra—a flexible and lightweight dataflow engine for scientific analyses</part-title>. In <source>Proceedings of the 19th python in science conference</source> (pp. <fpage>132</fpage>–<lpage>139</lpage>). <pub-id pub-id-type="doi">10.25080/majora-342d178e-012</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0045">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0045">
<string-name>
<surname>Jenkinson</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>Beckmann</surname>, <given-names>C. F.</given-names>
</string-name>, <string-name>
<surname>Behrens</surname>, <given-names>T. E.</given-names>
</string-name>, <string-name>
<surname>Woolrich</surname>, <given-names>M. W.</given-names>
</string-name>, &amp; <string-name>
<surname>Smith</surname>, <given-names>S. M.</given-names>
</string-name> (<year>2012</year>). <article-title>FSL</article-title>. <source>NeuroImage</source>, <volume>62</volume>(<issue>2</issue>), <fpage>782</fpage>–<lpage>790</lpage>. <pub-id pub-id-type="doi">10.1016/j.neuroimage.2011.09.015</pub-id>
<pub-id pub-id-type="pmid">21979382</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0046">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0046">
<string-name>
<surname>Jo</surname>, <given-names>H. J.</given-names>
</string-name>, <string-name>
<surname>Gotts</surname>, <given-names>S. J.</given-names>
</string-name>, <string-name>
<surname>Reynolds</surname>, <given-names>R. C.</given-names>
</string-name>, <string-name>
<surname>Bandettini</surname>, <given-names>P. A.</given-names>
</string-name>, <string-name>
<surname>Martin</surname>, <given-names>A.</given-names>
</string-name>, <string-name>
<surname>Cox</surname>, <given-names>R. W.</given-names>
</string-name>, &amp; <string-name>
<surname>Saad</surname>, <given-names>Z. S.</given-names>
</string-name> (<year>2013</year>). <article-title>Effective preprocessing procedures virtually eliminate distance‐dependent motion artifacts in resting state FMRI</article-title>. <source>Journal of Applied Mathematics</source>, <volume>2013</volume>, <fpage>1</fpage>–<lpage>9</lpage>. <pub-id pub-id-type="doi">10.1155/2013/935154</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0047">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0047">
<string-name>
<surname>Johnson</surname>, <given-names>W. E.</given-names>
</string-name>, <string-name>
<surname>Li</surname>, <given-names>C.</given-names>
</string-name>, &amp; <string-name>
<surname>Rabinovic</surname>, <given-names>A.</given-names>
</string-name> (<year>2007</year>). <article-title>Adjusting batch effects in microarray expression data using empirical Bayes methods</article-title>. <source>Biostatistics</source>, <volume>8</volume>(<issue>1</issue>), <fpage>118</fpage>–<lpage>127</lpage>. <pub-id pub-id-type="doi">10.1093/biostatistics/kxj037</pub-id>
<pub-id pub-id-type="pmid">16632515</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0048">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0048">
<string-name>
<surname>Kerestes</surname>, <given-names>R.</given-names>
</string-name>, <string-name>
<surname>Chase</surname>, <given-names>H. W.</given-names>
</string-name>, <string-name>
<surname>Phillips</surname>, <given-names>M. L.</given-names>
</string-name>, <string-name>
<surname>Ladouceur</surname>, <given-names>C. D.</given-names>
</string-name>, &amp; <string-name>
<surname>Eickhoff</surname>, <given-names>S. B.</given-names>
</string-name> (<year>2017</year>). <article-title>Multimodal evaluation of the amygdala's functional connectivity</article-title>. <source>NeuroImage</source>, <volume>148</volume>, <fpage>219</fpage>–<lpage>229</lpage>. <pub-id pub-id-type="doi">10.1016/j.neuroimage.2016.12.023</pub-id>
<pub-id pub-id-type="pmid">28089676</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0049">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0049">
<string-name>
<surname>Kurtzer</surname>, <given-names>G. M.</given-names>
</string-name>, <string-name>
<surname>Sochat</surname>, <given-names>V.</given-names>
</string-name>, &amp; <string-name>
<surname>Bauer</surname>, <given-names>M. W.</given-names>
</string-name> (<year>2017</year>). <article-title>Singularity: Scientific containers for mobility of compute</article-title>. <source>PLoS One</source>, <volume>12</volume>(<issue>5</issue>), <elocation-id>e0177459</elocation-id>. <pub-id pub-id-type="doi">10.1371/journal.pone.0177459</pub-id>
<pub-id pub-id-type="pmid">28494014</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0050">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0050">
<string-name>
<surname>Lenth</surname>, <given-names>R. V.</given-names>
</string-name> (<year>2016</year>). <article-title>Least‐squares means: The R package lsmeans</article-title>. <source>Journal of Statistical Software, Articles</source>, <volume>69</volume>(<issue>1</issue>), <fpage>1</fpage>–<lpage>33</lpage>. <pub-id pub-id-type="doi">10.18637/jss.v069.i01</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0051">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0051">
<string-name>
<surname>Li</surname>, <given-names>X.</given-names>
</string-name>, <string-name>
<surname>Morgan</surname>, <given-names>P. S.</given-names>
</string-name>, <string-name>
<surname>Ashburner</surname>, <given-names>J.</given-names>
</string-name>, <string-name>
<surname>Smith</surname>, <given-names>J.</given-names>
</string-name>, &amp; <string-name>
<surname>Rorden</surname>, <given-names>C.</given-names>
</string-name> (<year>2016</year>). <article-title>The first step for neuroimaging data analysis: DICOM to NIfTI conversion</article-title>. <source>Journal of Neuroscience Methods</source>, <volume>264</volume>, <fpage>47</fpage>–<lpage>56</lpage>. <pub-id pub-id-type="doi">10.1016/j.jneumeth.2016.03.001</pub-id>
<pub-id pub-id-type="pmid">26945974</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0052">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0052">
<string-name>
<surname>Marchini</surname>, <given-names>J. L.</given-names>
</string-name>, &amp; <string-name>
<surname>Ripley</surname>, <given-names>B. D.</given-names>
</string-name> (<year>2000</year>). <article-title>A new statistical approach to detecting significant activation in functional MRI</article-title>. <source>NeuroImage</source>, <volume>12</volume>(<issue>4</issue>), <fpage>366</fpage>–<lpage>380</lpage>. <pub-id pub-id-type="doi">10.1006/nimg.2000.0628</pub-id>
<pub-id pub-id-type="pmid">10988031</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0081">
        <mixed-citation publication-type="miscellaneous" id="hbm25829-cit-0081">
<string-name>
<surname>Markiewicz</surname>, <given-names>C. J.</given-names>
</string-name>, <string-name>
<surname>De La Vega</surname>, <given-names>A.</given-names>
</string-name>, <string-name>
<surname>Wagner</surname>, <given-names>A.</given-names>
</string-name>, <string-name>
<surname>Halchenko</surname>, <given-names>Y. O.</given-names>
</string-name>, <string-name>
<surname>Finc</surname>, <given-names>K.</given-names>
</string-name>, <string-name>
<surname>Ciric</surname>, <given-names>R.</given-names>
</string-name>, … <string-name>
<surname>Gorgolewski</surname>, <given-names>K. J.</given-names>
</string-name> poldracklab/fitlins: v0.9.2. <pub-id pub-id-type="doi">10.5281/zenodo.5120201</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0053">
        <mixed-citation publication-type="book" id="hbm25829-cit-0053">
<string-name>
<surname>McKinney</surname>, <given-names>W.</given-names>
</string-name> (<year>2010</year>). <part-title>Data structures for statistical computing in python</part-title>. In <source>Proceedings of the 9th python in science conference</source> (pp. <fpage>56</fpage>–<lpage>61</lpage>). <pub-id pub-id-type="doi">10.25080/majora-92bf1922-00a</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0054">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0054">
<string-name>
<surname>Murphy</surname>, <given-names>K.</given-names>
</string-name>, <string-name>
<surname>Birn</surname>, <given-names>R. M.</given-names>
</string-name>, &amp; <string-name>
<surname>Bandettini</surname>, <given-names>P. A.</given-names>
</string-name> (<year>2013</year>). <article-title>Resting‐state fMRI confounds and cleanup</article-title>. <source>NeuroImage</source>, <volume>80</volume>, <fpage>349</fpage>–<lpage>359</lpage>. <pub-id pub-id-type="doi">10.1016/j.neuroimage.2013.04.001</pub-id>
<pub-id pub-id-type="pmid">23571418</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0055">
        <mixed-citation publication-type="book" id="hbm25829-cit-0055">
<string-name>
<surname>Pezoulas</surname>, <given-names>V.</given-names>
</string-name>, <string-name>
<surname>Exarchos</surname>, <given-names>T.</given-names>
</string-name>, &amp; <string-name>
<surname>Fotiadis</surname>, <given-names>D.</given-names>
</string-name> (<year>2020</year>). <source>Medical data sharing, harmonization and analytics</source>. <publisher-loc>London, England</publisher-loc>: <publisher-name>Academic Press</publisher-name>. <pub-id pub-id-type="doi">10.1016/C2018-0-00523-X</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0056">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0056">
<string-name>
<surname>Plis</surname>, <given-names>S. M.</given-names>
</string-name>, <string-name>
<surname>Sarwate</surname>, <given-names>A. D.</given-names>
</string-name>, <string-name>
<surname>Wood</surname>, <given-names>D.</given-names>
</string-name>, <string-name>
<surname>Dieringer</surname>, <given-names>C.</given-names>
</string-name>, <string-name>
<surname>Landis</surname>, <given-names>D.</given-names>
</string-name>, <string-name>
<surname>Reed</surname>, <given-names>C.</given-names>
</string-name>, … <string-name>
<surname>Calhoun</surname>, <given-names>V. D.</given-names>
</string-name> (<year>2016</year>). <article-title>COINSTAC: A privacy enabled model and prototype for leveraging and processing decentralized brain imaging data</article-title>. <source>Frontiers in Neuroscience</source>, <volume>10</volume>, <fpage>365</fpage>. <pub-id pub-id-type="doi">10.3389/fnins.2016.00365</pub-id>
<pub-id pub-id-type="pmid">27594820</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0057">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0057">
<string-name>
<surname>Poldrack</surname>, <given-names>R. A.</given-names>
</string-name>, <string-name>
<surname>Baker</surname>, <given-names>C. I.</given-names>
</string-name>, <string-name>
<surname>Durnez</surname>, <given-names>J.</given-names>
</string-name>, <string-name>
<surname>Gorgolewski</surname>, <given-names>K. J.</given-names>
</string-name>, <string-name>
<surname>Matthews</surname>, <given-names>P. M.</given-names>
</string-name>, <string-name>
<surname>Munafò</surname>, <given-names>M. R.</given-names>
</string-name>, … <string-name>
<surname>Yarkoni</surname>, <given-names>T.</given-names>
</string-name> (<year>2017</year>). <article-title>Scanning the horizon: Towards transparent and reproducible neuroimaging research</article-title>. <source>Nature Reviews Neuroscience</source>, <volume>18</volume>(<issue>2</issue>), <fpage>115</fpage>–<lpage>126</lpage>. <pub-id pub-id-type="doi">10.1038/nrn.2016.167</pub-id>
<pub-id pub-id-type="pmid">28053326</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0058">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0058">
<string-name>
<surname>Poldrack</surname>, <given-names>R. A.</given-names>
</string-name>, <string-name>
<surname>Gorgolewski</surname>, <given-names>K. J.</given-names>
</string-name>, &amp; <string-name>
<surname>Varoquaux</surname>, <given-names>G.</given-names>
</string-name> (<year>2019</year>). <article-title>Computational and Informatic advances for reproducible data analysis in neuroimaging</article-title>. <source>Annual Review of Biomedical Data Science</source>, <volume>2</volume>(<issue>1</issue>), <fpage>1</fpage>–<lpage>20</lpage>. <pub-id pub-id-type="doi">10.1146/annurev-biodatasci-072018-021237</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0059">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0059">
<string-name>
<surname>Pontikos</surname>, <given-names>N.</given-names>
</string-name>, <string-name>
<surname>Yu</surname>, <given-names>J.</given-names>
</string-name>, <string-name>
<surname>Moghul</surname>, <given-names>I.</given-names>
</string-name>, <string-name>
<surname>Withington</surname>, <given-names>L.</given-names>
</string-name>, <string-name>
<surname>Blanco‐Kelly</surname>, <given-names>F.</given-names>
</string-name>, <string-name>
<surname>Vulliamy</surname>, <given-names>T.</given-names>
</string-name>, … <string-name>
<surname>Plagnol</surname>, <given-names>V.</given-names>
</string-name> (<year>2017</year>). <article-title>Phenopolis: An open platform for harmonization and analysis of genetic and phenotypic data</article-title>. <source>Bioinformatics</source>, <volume>33</volume>(<issue>15</issue>), <fpage>2421</fpage>–<lpage>2423</lpage>. <pub-id pub-id-type="doi">10.1093/bioinformatics/btx147</pub-id>
<pub-id pub-id-type="pmid">28334266</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0060">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0060">
<string-name>
<surname>Power</surname>, <given-names>J. D.</given-names>
</string-name> (<year>2017</year>). <article-title>A simple but useful way to assess fMRI scan qualities</article-title>. <source>NeuroImage</source>, <volume>154</volume>, <fpage>150</fpage>–<lpage>158</lpage>. <pub-id pub-id-type="doi">10.1016/j.neuroimage.2016.08.009</pub-id>
<pub-id pub-id-type="pmid">27510328</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0061">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0061">
<string-name>
<surname>Power</surname>, <given-names>J. D.</given-names>
</string-name>, <string-name>
<surname>Barnes</surname>, <given-names>K. A.</given-names>
</string-name>, <string-name>
<surname>Snyder</surname>, <given-names>A. Z.</given-names>
</string-name>, <string-name>
<surname>Schlaggar</surname>, <given-names>B. L.</given-names>
</string-name>, &amp; <string-name>
<surname>Petersen</surname>, <given-names>S. E.</given-names>
</string-name> (<year>2012</year>). <article-title>Spurious but systematic correlations in functional connectivity MRI networks arise from subject motion</article-title>. <source>NeuroImage</source>, <volume>59</volume>(<issue>3</issue>), <fpage>2142</fpage>–<lpage>2154</lpage>. <pub-id pub-id-type="doi">10.1016/j.neuroimage.2011.10.018</pub-id>
<pub-id pub-id-type="pmid">22019881</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0062">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0062">
<string-name>
<surname>Power</surname>, <given-names>J. D.</given-names>
</string-name>, <string-name>
<surname>Mitra</surname>, <given-names>A.</given-names>
</string-name>, <string-name>
<surname>Laumann</surname>, <given-names>T. O.</given-names>
</string-name>, <string-name>
<surname>Snyder</surname>, <given-names>A. Z.</given-names>
</string-name>, <string-name>
<surname>Schlaggar</surname>, <given-names>B. L.</given-names>
</string-name>, &amp; <string-name>
<surname>Petersen</surname>, <given-names>S. E.</given-names>
</string-name> (<year>2014</year>). <article-title>Methods to detect, characterize, and remove motion artifact in resting state fMRI</article-title>. <source>NeuroImage</source>, <volume>84</volume>, <fpage>320</fpage>–<lpage>341</lpage>. <pub-id pub-id-type="doi">10.1016/j.neuroimage.2013.08.048</pub-id>
<pub-id pub-id-type="pmid">23994314</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0063">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0063">
<string-name>
<surname>Pruim</surname>, <given-names>R. H.</given-names>
</string-name>, <string-name>
<surname>Mennes</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>van Rooij</surname>, <given-names>D.</given-names>
</string-name>, <string-name>
<surname>Llera</surname>, <given-names>A.</given-names>
</string-name>, <string-name>
<surname>Buitelaar</surname>, <given-names>J. K.</given-names>
</string-name>, &amp; <string-name>
<surname>Beckmann</surname>, <given-names>C. F.</given-names>
</string-name> (<year>2015</year>). <article-title>ICA‐AROMA: A robust ICA‐based strategy for removing motion artifacts from fMRI data</article-title>. <source>NeuroImage</source>, <volume>112</volume>, <fpage>267</fpage>–<lpage>277</lpage>. <pub-id pub-id-type="doi">10.1016/j.neuroimage.2015.02.064</pub-id>
<pub-id pub-id-type="pmid">25770991</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0064">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0064">
<string-name>
<surname>Savio</surname>, <given-names>A. M.</given-names>
</string-name>, <string-name>
<surname>Schutte</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>Graña</surname>, <given-names>M.</given-names>
</string-name>, &amp; <string-name>
<surname>Yakushev</surname>, <given-names>I.</given-names>
</string-name> (<year>2017</year>). <article-title>Pypes: Workflows for processing multimodal neuroimaging data</article-title>. <source>Frontiers in Neuroinformatics</source>, <volume>11</volume>, <elocation-id>25</elocation-id>. <pub-id pub-id-type="doi">10.3389/fninf.2017.00025</pub-id>
<pub-id pub-id-type="pmid">28443013</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0065">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0065">
<string-name>
<surname>Schmaal</surname>, <given-names>L.</given-names>
</string-name>, <string-name>
<surname>Pozzi</surname>, <given-names>E.</given-names>
</string-name>, <string-name>
<surname>Ho</surname>, <given-names>T. C.</given-names>
</string-name>, <string-name>
<surname>van Velzen</surname>, <given-names>L. S.</given-names>
</string-name>, <string-name>
<surname>Veer</surname>, <given-names>I. M.</given-names>
</string-name>, <string-name>
<surname>Opel</surname>, <given-names>N.</given-names>
</string-name>, … <string-name>
<surname>Veltman</surname>, <given-names>D. J.</given-names>
</string-name> (<year>2020</year>). <article-title>ENIGMA MDD: Seven years of global neuroimaging studies of major depression through worldwide data sharing</article-title>. <source>Translational Psychiatry</source>, <volume>10</volume>(<issue>1</issue>), <fpage>172</fpage>. <pub-id pub-id-type="doi">10.1038/s41398-020-0842-6</pub-id>
<pub-id pub-id-type="pmid">32472038</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0066">
        <mixed-citation publication-type="miscellaneous" id="hbm25829-cit-0066">
<string-name>
<surname>Smith</surname>, <given-names>N. J.</given-names>
</string-name>, <string-name>
<surname>Hudon</surname>, <given-names>C.</given-names>
</string-name>, <string-name>
<surname>Broessli</surname>
</string-name>, <string-name>
<surname>Seabold</surname>, <given-names>S.</given-names>
</string-name>, <string-name>
<surname>Quackenbush</surname>, <given-names>P.</given-names>
</string-name>, <string-name>
<surname>Hudson‐Doyle</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>Humber</surname>, <given-names>M.</given-names>
</string-name>, <string-name>
<surname>Leinweber</surname>, <given-names>K.</given-names>
</string-name>, <string-name>
<surname>Kibirige</surname>, <given-names>H.</given-names>
</string-name>, <string-name>
<surname>Davidson‐Pilon</surname>, <given-names>C.</given-names>
</string-name> &amp; <string-name>
<surname>Portnoy</surname>, <given-names>A.</given-names>
</string-name> (<year>2018</year>). pydata/patsy: v0.5.1. <pub-id pub-id-type="doi">10.5281/zenodo.1472929</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0067">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0067">
<string-name>
<surname>Steegen</surname>, <given-names>S.</given-names>
</string-name>, <string-name>
<surname>Tuerlinckx</surname>, <given-names>F.</given-names>
</string-name>, <string-name>
<surname>Gelman</surname>, <given-names>A.</given-names>
</string-name>, &amp; <string-name>
<surname>Vanpaemel</surname>, <given-names>W.</given-names>
</string-name> (<year>2016</year>). <article-title>Increasing transparency through a multiverse analysis</article-title>. <source>Perspectives on Psychological Science</source>, <volume>11</volume>(<issue>5</issue>), <fpage>702</fpage>–<lpage>712</lpage>. <pub-id pub-id-type="doi">10.1177/1745691616658637</pub-id>
<pub-id pub-id-type="pmid">27694465</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0068">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0068">
<string-name>
<surname>Taylor</surname>, <given-names>P. A.</given-names>
</string-name>, &amp; <string-name>
<surname>Saad</surname>, <given-names>Z. S.</given-names>
</string-name> (<year>2013</year>). <article-title>FATCAT: (an efficient) functional and Tractographic connectivity analysis toolbox</article-title>. <source>Brain Connectivity</source>, <volume>3</volume>(<issue>5</issue>), <fpage>523</fpage>–<lpage>535</lpage>. <pub-id pub-id-type="doi">10.1089/brain.2013.0154</pub-id>
<pub-id pub-id-type="pmid">23980912</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0069">
        <mixed-citation publication-type="book" id="hbm25829-cit-0069">
<string-name>
<surname>Thompson</surname>, <given-names>P. M.</given-names>
</string-name>, <string-name>
<surname>Ching</surname>, <given-names>C. R. K.</given-names>
</string-name>, <string-name>
<surname>Dennis</surname>, <given-names>E. L.</given-names>
</string-name>, <string-name>
<surname>Salminen</surname>, <given-names>L. E.</given-names>
</string-name>, <string-name>
<surname>Turner</surname>, <given-names>J. A.</given-names>
</string-name>, <string-name>
<surname>van Erp</surname>, <given-names>T. G. M.</given-names>
</string-name>, &amp; <string-name>
<surname>Jahanshad</surname>, <given-names>N.</given-names>
</string-name> (<year>2020</year>). <part-title>Big data initiatives in psychiatry: Global neuroimaging studies</part-title>. In <person-group person-group-type="editor">
<string-name>
<given-names>M.</given-names>
<surname>Kubicki</surname>
</string-name>
</person-group> &amp; <person-group person-group-type="editor">
<string-name>
<given-names>M. E.</given-names>
<surname>Shenton</surname>
</string-name>
</person-group> (Eds.), <source>Neuroimaging in Schizophrenia</source> (pp. <fpage>411</fpage>–<lpage>426</lpage>). <publisher-loc>Cham</publisher-loc>: <publisher-name>Springer International Publishing</publisher-name>. <pub-id pub-id-type="doi">10.1007/978-3-030-35206-6_21</pub-id>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0070">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0070">
<string-name>
<surname>Thompson</surname>, <given-names>P. M.</given-names>
</string-name>, <string-name>
<surname>Jahanshad</surname>, <given-names>N.</given-names>
</string-name>, <string-name>
<surname>Ching</surname>, <given-names>C. R. K.</given-names>
</string-name>, <string-name>
<surname>Salminen</surname>, <given-names>L. E.</given-names>
</string-name>, <string-name>
<surname>Thomopoulos</surname>, <given-names>S. I.</given-names>
</string-name>, <string-name>
<surname>Bright</surname>, <given-names>J.</given-names>
</string-name>, … <string-name>
<surname>Zelman</surname>, <given-names>V.</given-names>
</string-name> (<year>2020</year>). <article-title>ENIGMA and global neuroscience: A decade of large‐scale studies of the brain in health and disease across more than 40 countries</article-title>. <source>Translational Psychiatry</source>, <volume>10</volume>(<issue>1</issue>), <fpage>1</fpage>–<lpage>28</lpage>. <pub-id pub-id-type="doi">10.1038/s41398-020-0705-1</pub-id>
<pub-id pub-id-type="pmid">32066695</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0071">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0071">
<string-name>
<surname>van den Heuvel</surname>, <given-names>O. A.</given-names>
</string-name>, <string-name>
<surname>Boedhoe</surname>, <given-names>P. S. W.</given-names>
</string-name>, <string-name>
<surname>Bertolin</surname>, <given-names>S.</given-names>
</string-name>, <string-name>
<surname>Bruin</surname>, <given-names>W. B.</given-names>
</string-name>, <string-name>
<surname>Francks</surname>, <given-names>C.</given-names>
</string-name>, <string-name>
<surname>Ivanov</surname>, <given-names>I.</given-names>
</string-name>, … <string-name>
<surname>Stein</surname>, <given-names>D. J.</given-names>
</string-name> (<year>2020</year>). <article-title>An overview of the first 5 years of the ENIGMA obsessive–compulsive disorder working group: The power of worldwide collaboration</article-title>. <source>Human Brain Mapping</source>, <volume>43</volume>, <fpage>23</fpage>–<lpage>36</lpage>. <pub-id pub-id-type="doi">10.1002/hbm.24972</pub-id>
<pub-id pub-id-type="pmid">32154629</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0072">
        <mixed-citation publication-type="book" id="hbm25829-cit-0072">
<string-name>
<surname>Veer</surname>, <given-names>I. M.</given-names>
</string-name>, <string-name>
<surname>Waller</surname>, <given-names>L.</given-names>
</string-name>, <string-name>
<surname>Lett</surname>, <given-names>T. A.</given-names>
</string-name>, <string-name>
<surname>Erk</surname>, <given-names>S.</given-names>
</string-name>, &amp; <string-name>
<surname>Walter</surname>, <given-names>H.</given-names>
</string-name> (<year>2019</year>). <part-title>ENIGMA task‐based fMRI: A workgroup studying the genetic basis of task‐evoked brain activity</part-title>. In <source>25th Organization of Human Brain Mapping Annual Meeting</source>. <ext-link xlink:href="https://archive.aievolution.com/2019/hbm1901/index.cfm?do=doc.viewDocument%26documentID=2746" ext-link-type="uri">https://archive.aievolution.com/2019/hbm1901/index.cfm?do=doc.viewDocument&amp;documentID=2746</ext-link>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0073">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0073">
<string-name>
<surname>Wachinger</surname>, <given-names>C.</given-names>
</string-name>, <string-name>
<surname>Rieckmann</surname>, <given-names>A.</given-names>
</string-name>, <string-name>
<surname>Pölsterl</surname>, <given-names>S.</given-names>
</string-name>, &amp; <collab collab-type="authors">for the Alzheimer's Disease Neuroimaging Initiative and the Australian Imaging Biomarkers and Lifestyle flagship study of ageing</collab>
. (<year>2021</year>). <article-title>Detect and correct bias in multi‐site neuroimaging datasets</article-title>. <source>Medical Image Analysis</source>, <volume>67</volume>, <elocation-id>101879</elocation-id>. <pub-id pub-id-type="doi">10.1016/j.media.2020.101879</pub-id>
<pub-id pub-id-type="pmid">33152602</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0074">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0074">
<string-name>
<surname>Wager</surname>, <given-names>T. D.</given-names>
</string-name>, <string-name>
<surname>Davidson</surname>, <given-names>M. L.</given-names>
</string-name>, <string-name>
<surname>Hughes</surname>, <given-names>B. L.</given-names>
</string-name>, <string-name>
<surname>Lindquist</surname>, <given-names>M. A.</given-names>
</string-name>, &amp; <string-name>
<surname>Ochsner</surname>, <given-names>K. N.</given-names>
</string-name> (<year>2008</year>). <article-title>Prefrontal‐subcortical pathways mediating successful emotion regulation</article-title>. <source>Neuron</source>, <volume>59</volume>(<issue>6</issue>), <fpage>1037</fpage>–<lpage>1050</lpage>. <pub-id pub-id-type="doi">10.1016/j.neuron.2008.09.006</pub-id>
<pub-id pub-id-type="pmid">18817740</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0075">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0075">
<string-name>
<surname>Wakeman</surname>, <given-names>D. G.</given-names>
</string-name>, &amp; <string-name>
<surname>Henson</surname>, <given-names>R. N.</given-names>
</string-name> (<year>2015</year>). <article-title>A multi‐subject, multi‐modal human neuroimaging dataset</article-title>. <source>Scientific Data</source>, <volume>2</volume>(<issue>1</issue>), <elocation-id>150001</elocation-id>. <pub-id pub-id-type="doi">10.1038/sdata.2015.1</pub-id>
<pub-id pub-id-type="pmid">25977808</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0076">
        <mixed-citation publication-type="miscellaneous" id="hbm25829-cit-0076">
<string-name>
<surname>Weis</surname>, <given-names>C.</given-names>
</string-name> (<year>2020</year>). <article-title>Data‐driven approach to dynamic resting state functional connectivity in post‐traumatic stress disorder. <italic toggle="yes">PhD dissertation, The University of Wisconsin Milwaukee</italic>
</article-title>. <ext-link xlink:href="https://dc.uwm.edu/etd/2623" ext-link-type="uri">https://dc.uwm.edu/etd/2623</ext-link>
</mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0084">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0084">
<string-name>
<surname>Whitfield‐Gabrieli</surname>, <given-names>S.</given-names>
</string-name>, &amp; <string-name>
<surname>Nieto‐Castanon</surname>, <given-names>A.</given-names>
</string-name> (<year>2012</year>). <article-title>Conn: a functional connectivity toolbox for correlated and anticorrelated brain networks</article-title>. <source>Brain Connectivity</source>, <volume>2</volume>(<issue>3</issue>), <fpage>125</fpage>–<lpage>141</lpage>. <pub-id pub-id-type="doi">10.1089/brain.2012.0073</pub-id>
<pub-id pub-id-type="pmid">22642651</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0077">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0077">
<string-name>
<surname>Woolrich</surname>, <given-names>M. W.</given-names>
</string-name>, <string-name>
<surname>Behrens</surname>, <given-names>T. E.</given-names>
</string-name>, <string-name>
<surname>Beckmann</surname>, <given-names>C. F.</given-names>
</string-name>, <string-name>
<surname>Jenkinson</surname>, <given-names>M.</given-names>
</string-name>, &amp; <string-name>
<surname>Smith</surname>, <given-names>S. M.</given-names>
</string-name> (<year>2004</year>). <article-title>Multilevel linear modelling for FMRI group analysis using Bayesian inference</article-title>. <source>NeuroImage</source>, <volume>21</volume>(<issue>4</issue>), <fpage>1732</fpage>–<lpage>1747</lpage>. <pub-id pub-id-type="doi">10.1016/j.neuroimage.2003.12.023</pub-id>
<pub-id pub-id-type="pmid">15050594</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0078">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0078">
<string-name>
<surname>Woolrich</surname>, <given-names>M. W.</given-names>
</string-name>, <string-name>
<surname>Ripley</surname>, <given-names>B. D.</given-names>
</string-name>, <string-name>
<surname>Brady</surname>, <given-names>M.</given-names>
</string-name>, &amp; <string-name>
<surname>Smith</surname>, <given-names>S. M.</given-names>
</string-name> (<year>2001</year>). <article-title>Temporal autocorrelation in Univariate linear modeling of FMRI data</article-title>. <source>NeuroImage</source>, <volume>14</volume>(<issue>6</issue>), <fpage>1370</fpage>–<lpage>1386</lpage>. <pub-id pub-id-type="doi">10.1006/nimg.2001.0931</pub-id>
<pub-id pub-id-type="pmid">11707093</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0083">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0083">
<string-name>
<surname>Yan</surname>, <given-names>C.‐G.</given-names>
</string-name>, <string-name>
<surname>Wang</surname>, <given-names>X.‐D.</given-names>
</string-name>, <string-name>
<surname>Zuo</surname>, <given-names>X.‐N.</given-names>
</string-name>, &amp; <string-name>
<surname>Zang</surname>, <given-names>Y.‐F.</given-names>
</string-name> (<year>2016</year>). <article-title>DPABI: Data Processing &amp; Analysis for (Resting‐State) Brain Imaging</article-title>. <source>Neuroinformatics</source>, <volume>14</volume>(<issue>3</issue>), <fpage>339</fpage>–<lpage>351</lpage>. <pub-id pub-id-type="doi">10.1007/s12021-016-9299-4</pub-id>
<pub-id pub-id-type="pmid">27075850</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0079">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0079">
<string-name>
<surname>Zang</surname>, <given-names>Y.</given-names>
</string-name>, <string-name>
<surname>Jiang</surname>, <given-names>T.</given-names>
</string-name>, <string-name>
<surname>Lu</surname>, <given-names>Y.</given-names>
</string-name>, <string-name>
<surname>He</surname>, <given-names>Y.</given-names>
</string-name>, &amp; <string-name>
<surname>Tian</surname>, <given-names>L.</given-names>
</string-name> (<year>2004</year>). <article-title>Regional homogeneity approach to fMRI data analysis</article-title>. <source>NeuroImage</source>, <volume>22</volume>(<issue>1</issue>), <fpage>394</fpage>–<lpage>400</lpage>. <pub-id pub-id-type="doi">10.1016/j.neuroimage.2003.12.030</pub-id>
<pub-id pub-id-type="pmid">15110032</pub-id></mixed-citation>
      </ref>
      <ref id="hbm25829-bib-0080">
        <mixed-citation publication-type="journal" id="hbm25829-cit-0080">
<string-name>
<surname>Zou</surname>, <given-names>Q.‐H.</given-names>
</string-name>, <string-name>
<surname>Zhu</surname>, <given-names>C.‐Z.</given-names>
</string-name>, <string-name>
<surname>Yang</surname>, <given-names>Y.</given-names>
</string-name>, <string-name>
<surname>Zuo</surname>, <given-names>X.‐N.</given-names>
</string-name>, <string-name>
<surname>Long</surname>, <given-names>X.‐Y.</given-names>
</string-name>, <string-name>
<surname>Cao</surname>, <given-names>Q.‐J.</given-names>
</string-name>, … <string-name>
<surname>Zang</surname>, <given-names>Y.‐F.</given-names>
</string-name> (<year>2008</year>). <article-title>An improved approach to detection of amplitude of low‐frequency fluctuation (ALFF) for resting‐state fMRI: Fractional ALFF</article-title>. <source>Journal of Neuroscience Methods</source>, <volume>172</volume>(<issue>1</issue>), <fpage>137</fpage>–<lpage>141</lpage>. <pub-id pub-id-type="doi">10.1016/j.jneumeth.2008.04.012</pub-id>
<pub-id pub-id-type="pmid">18501969</pub-id></mixed-citation>
      </ref>
    </ref-list>
  </back>
</article>
